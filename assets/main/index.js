System.register("chunks:///_virtual/AnimationManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GameEvent.ts"],(function(n){"use strict";var t,i,e,a,s,o,r,c;return{setters:[function(n){t=n.inheritsLoose,i=n.asyncToGenerator,e=n.regeneratorRuntime},function(n){a=n.cclegacy,s=n._decorator,o=n.Component},function(n){r=n.EventManager},function(n){c=n.GameEvent}],execute:function(){var u;a._RF.push({},"bbbbcnmjzJFh6Xfj7kIOG2W","AnimationManager",void 0);var h=s.ccclass;s.property,n("AnimationManager",h("AnimationManager")(u=function(n){function a(){for(var t,i=arguments.length,e=new Array(i),a=0;a<i;a++)e[a]=arguments[a];return(t=n.call.apply(n,[this].concat(e))||this).pendingAnimations=[],t.isAnimating=!1,t}t(a,n);var s=a.prototype;return s.start=function(){r.instance.gameEvents.on(c.QUEUE_ANIMATION,this.queueAnimation,this)},s.onDestroy=function(){r.instance.gameEvents.off(c.QUEUE_ANIMATION,this.queueAnimation,this)},s.onAllAnimationFinished=function(){this.isAnimating=!1,0===this.pendingAnimations.length&&r.instance.gameEvents.emit(c.ANIMATION_FINISHED)},s.playAnimation=function(){var n=i(e().mark((function n(){var t;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.isAnimating=!0;case 1:if(!(this.pendingAnimations.length>0)){n.next=7;break}return t=this.pendingAnimations.shift(),n.next=5,t();case 5:n.next=1;break;case 7:this.scheduleOnce(this.onAllAnimationFinished,.2);case 8:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),s.queueAnimation=function(n){this.pendingAnimations.push(n),this.unschedule(this.onAllAnimationFinished),this.isAnimating||this.playAnimation()},a}(o))||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationType.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){var i;t("AnimationType",void 0),e._RF.push({},"34200NlWvBJrpiRwWsaUMn0","AnimationType",void 0),function(t){t[t.FlyTop=0]="FlyTop",t[t.FlyBottom=1]="FlyBottom",t[t.FlyLeft=2]="FlyLeft",t[t.FlyRight=3]="FlyRight",t[t.Scale=4]="Scale",t[t.Fade=5]="Fade"}(i||(i=t("AnimationType",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/array_buff.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var r,e;return{setters:[function(o){r=o.inheritsLoose},function(o){e=o.cclegacy}],execute:function(){e._RF.push({},"b1677vlygpAX5MuD+AyKee9","array_buff",void 0);var n,i,s=o("Code",(function(){}));s.LOGIN=1,s.LOGOUT=2,s.JOIN_ROOM=3,s.LEAVE_ROOM=4,s.ROOM_PLUGIN=5,s.ZONE_PLUGIN=6,s.PING=7,s.CHANGE_LANGUAGE=8,function(o){var e=function(o){this.type=void 0,this.zoneName=void 0,this.type=o,this.zoneName=""},n=function(o){function e(){var r;return(r=o.call(this,s.LOGIN)||this).username=void 0,r.password=void 0,r.username="",r.password="",r}return r(e,o),e}(e);o.LoginMessage=n;var i=function(o){function e(){return o.call(this,s.LOGOUT)||this}return r(e,o),e}(e);o.LogoutMessage=i;var a=function(o){function e(){var r;return(r=o.call(this,s.ZONE_PLUGIN)||this).pluginName=void 0,r.params=void 0,r.pluginName="",r.params={action:"rooms"},r}return r(e,o),e}(e);o.GetRoomsMessage=a;var t=function(o){function e(){var r;return(r=o.call(this,s.ZONE_PLUGIN)||this).pluginName=void 0,r.params=void 0,r.pluginName="",r.params={action:"create_room"},r}return r(e,o),e}(e);o.CreateRoomMessage=t;var d=function(o){function e(){var r;return(r=o.call(this,s.JOIN_ROOM)||this).roomId=void 0,r.password=void 0,r.roomId=0,r.password="",r}return r(e,o),e}(e);o.JoinRoomMessage=d;var v=function(o){function e(){var r;return(r=o.call(this,s.JOIN_ROOM)||this).roomId=void 0,r.roomId=0,r}return r(e,o),e}(e);o.LeaveRoomMessage=v;var c=function(o){function e(){var r;return(r=o.call(this,s.ROOM_PLUGIN)||this).roomId=void 0,r.params=void 0,r.roomId=0,r.params={action:"spin | freespin | gamble",bet:100},r}return r(e,o),e}(e);o.SpinGameMessage=c;var u=function(o){function e(){var r;return(r=o.call(this,s.ROOM_PLUGIN)||this).roomId=void 0,r.params=void 0,r.roomId=0,r.params={playerID:0,bet:0},r}return r(e,o),e}(e);o.BetMessage=u;var m=function(o){function e(){var r;return(r=o.call(this,s.ROOM_PLUGIN)||this).roomId=void 0,r.params=void 0,r.roomId=0,r.params={playerID:0,action:"hit | stand | double | split"},r}return r(e,o),e}(e);o.GameActionMessage=m;var l=function(o){function e(){var r;return(r=o.call(this,s.ROOM_PLUGIN)||this).roomId=void 0,r.params=void 0,r.roomId=0,r.params={playerID:0,action:"accept | decline"},r}return r(e,o),e}(e);o.InsuranceResponseMessage=l;var I=function(o){function e(){var r;return(r=o.call(this,s.ZONE_PLUGIN)||this).pluginName=void 0,r.params=void 0,r.pluginName="",r.params={action:"update_balance",transaction:"add",amount:999},r}return r(e,o),e}(e);o.UpdateBalanceMessage=I}(n||(n={})),function(o){var e=function(){this.type=void 0,this.type=0},n=function(o){function e(){var r;return(r=o.call(this)||this).success=void 0,r.errorCode=void 0,r.username=void 0,r.zoneName=void 0,r.balance=void 0,r.message=void 0,r.success=!1,r.errorCode=0,r.username="",r.zoneName="",r.balance=0,r.message="",r}return r(e,o),e}(e);o.LoginResponse=n;var i=function(o){function e(){var r;return(r=o.call(this)||this).success=void 0,r.reasonId=void 0,r.success=!1,r.reasonId=0,r}return r(e,o),e}(e);o.LogoutMessage=i;var s=function(o){function e(){var r;return(r=o.call(this)||this).success=void 0,r.roomId=void 0,r.errorCode=void 0,r.action=void 0,r.zoneName=void 0,r.rooms=void 0,r.success=!1,r.roomId=0,r.errorCode=0,r.action="",r.zoneName="",r.rooms=[],r}return r(e,o),e}(e);o.GetRoomsResponse=s;var a=function(o){function e(){var r;return(r=o.call(this)||this).success=void 0,r.roomId=void 0,r.errorCode=void 0,r.action=void 0,r.roomName=void 0,r.roomHasPassword=void 0,r.roomPassword=void 0,r.success=!1,r.roomId=0,r.errorCode=0,r.action="",r.roomName="",r.roomHasPassword=!1,r.roomPassword="",r}return r(e,o),e}(e);o.CreateRoomsResponse=a;var t=function(o){function e(){var r;return(r=o.call(this)||this).success=void 0,r.errorCode=void 0,r.roomId=void 0,r.message=void 0,r.success=!1,r.errorCode=0,r.roomId=0,r.message="",r}return r(e,o),e}(e);o.JoinRoomResponse=t;var d=function(o){function e(){var r;return(r=o.call(this)||this).success=void 0,r.reasonId=void 0,r.roomId=void 0,r.errorCode=void 0,r.message=void 0,r.success=!1,r.reasonId=0,r.roomId=0,r.errorCode=0,r.message="",r}return r(e,o),e}(e);o.LeaveRoomResponse=d;o.RoomResponse=function(){this.id=void 0,this.name=void 0,this.hasPassword=void 0,this.password=void 0,this.id=0,this.name="",this.hasPassword=!1,this.password=""};var v=function(o){function e(){var r;return(r=o.call(this)||this).event=void 0,r.roomId=void 0,r.errorCode=void 0,r.phaseId=void 0,r.rooms=void 0,r.event="phase-change",r.roomId=0,r.errorCode=0,r.phaseId=0,r.rooms=[],r}return r(e,o),e}(e);o.PhaseChange=v;var c=function(o){function e(){var r;return(r=o.call(this)||this).event=void 0,r.roomId=void 0,r.errorCode=void 0,r.playerId=void 0,r.rooms=void 0,r.event="turn-change",r.roomId=0,r.errorCode=0,r.playerId=0,r.rooms=[],r}return r(e,o),e}(e);o.TurnChange=c;var u=function(o){function e(){var r;return(r=o.call(this)||this).success=void 0,r.roomId=void 0,r.playerId=void 0,r.event=void 0,r.errorCode=void 0,r.rooms=void 0,r.success=!1,r.roomId=0,r.playerId=0,r.event="bet",r.errorCode=0,r.rooms=[],r}return r(e,o),e}(e);o.BetResponse=u;var m=function(o){function e(){var r;return(r=o.call(this)||this).event=void 0,r.roomId=void 0,r.target=void 0,r.playerId=void 0,r.cardIds=void 0,r.isFaceDown=void 0,r.errorCode=void 0,r.rooms=void 0,r.event="deal-card",r.roomId=0,r.target="player | dealer",r.playerId=0,r.cardIds=[],r.isFaceDown=!0,r.errorCode=0,r.rooms=[],r}return r(e,o),e}(e);o.DealCard=m;var l=function(o){function e(){var r;return(r=o.call(this)||this).event=void 0,r.roomId=void 0,r.target=void 0,r.playerId=void 0,r.cardId=void 0,r.errorCode=void 0,r.rooms=void 0,r.roomId=0,r.event="reveal-card",r.target="player | dealer",r.playerId=0,r.cardId=-1,r.errorCode=0,r.rooms=[],r}return r(e,o),e}(e);o.RevealCard=l;var I=function(o){function e(){var r;return(r=o.call(this)||this).success=void 0,r.roomId=void 0,r.playerId=void 0,r.event=void 0,r.errorCode=void 0,r.rooms=void 0,r.success=!1,r.roomId=0,r.playerId=0,r.event="hit | stand | double | split",r.errorCode=0,r.rooms=[],r}return r(e,o),e}(e);o.ActionResponse=I;var h=function(o){function e(){var r;return(r=o.call(this)||this).roomId=void 0,r.playerId=void 0,r.event=void 0,r.errorCode=void 0,r.rooms=void 0,r.roomId=0,r.playerId=0,r.event="offer-insurance",r.rooms=[],r}return r(e,o),e}(e);o.InsuranceOffer=h;var p=function(o){function e(){var r;return(r=o.call(this)||this).success=void 0,r.roomId=void 0,r.playerId=void 0,r.event=void 0,r.errorCode=void 0,r.rooms=void 0,r.success=!1,r.roomId=0,r.playerId=0,r.event="insurance-accept | insurance-decline",r.errorCode=0,r.rooms=[],r}return r(e,o),e}(e);o.InsuranceOfferResponse=p;var f=function(o){function e(){var r;return(r=o.call(this)||this).roomId=void 0,r.playerId=void 0,r.event=void 0,r.result=void 0,r.errorCode=void 0,r.rooms=void 0,r.roomId=0,r.playerId=0,r.event="game-result",r.result="win | lose | push | win-blackjack",r.rooms=[],r}return r(e,o),e}(e);o.GameResult=f;var g=function(o){function e(){var r;return(r=o.call(this)||this).roomId=void 0,r.playerId=void 0,r.event=void 0,r.newBalance=void 0,r.event="balance-update",r.roomId=0,r.playerId=0,r.newBalance=0,r}return r(e,o),e}(e);o.BalanceUpdate=g;o.TEMPLATES=[[1,1,1,1,1],[0,0,0,0,0],[2,2,2,2,2],[0,1,2,1,0],[2,1,0,1,2],[2,1,0,1,0],[0,1,2,1,2],[2,1,1,1,2],[1,0,0,0,1],[0,1,1,1,0],[2,1,1,1,2],[0,1,2,2,1],[2,1,0,0,1],[1,1,0,1,1],[1,1,2,1,1],[0,2,0,2,0],[0,1,0,1,0],[1,0,1,0,1],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[2,2,2,2,2],[0,0,0,0,0],[2,2,2,2,2],[2,2,1,1,0],[0,1,2,2,2],[0,0,0,0,0],[0,0,0,0,0],[0,1,1,2,2],[2,1,1,0,0],[0,1,0,1,0],[2,1,2,1,2],[0,1,2,1,0],[2,1,0,1,2],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,0,0,1],[0,0,1,1,0],[0,0,1,0,0],[2,2,1,2,2],[0,1,0,1,0],[1,0,2,0,1],[2,1,0,1,2],[0,1,0,0,1],[1,0,0,1,0],[1,1,1,1,1],[0,0,0,0,0]]}(i||(i={})),e._RF.pop()}}}));

System.register("chunks:///_virtual/AsyncUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,r,i,o;return{setters:[function(e){n=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){r=e.cclegacy,i=e.director,o=e.Director}],execute:function(){r._RF.push({},"bd8cbDC2ylKGaZnbVHKcPBa","AsyncUtils",void 0);e("AsyncUtils",function(){function e(){}return e.delay=function(e){return new Promise((function(n){return setTimeout(n,e)}))},e.waitForSeconds=function(e){return this.delay(1e3*e)},e.waitForNextFrame=function(){return new Promise((function(e){i.once(o.EVENT_AFTER_UPDATE,(function n(){i.off(o.EVENT_AFTER_UPDATE,n),e()}))}))},e.waitForCondition=function(){var e=n(t().mark((function e(n,r,i){var o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===r&&(r=50),void 0===i&&(i=5e3),o=performance.now();case 3:if(!(performance.now()-o<i)){e.next=10;break}if(!n()){e.next=6;break}return e.abrupt("return",!0);case 6:return e.next=8,this.delay(r);case 8:e.next=3;break;case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)})));return function(n,t,r){return e.apply(this,arguments)}}(),e.waitForFrames=function(){var e=n(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<n)){e.next=7;break}return e.next=4,this.waitForNextFrame();case 4:r++,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),e.withTimeout=function(e,n){return new Promise((function(t,r){var i=setTimeout((function(){return r(new Error("AsyncUtils: Timeout exceeded"))}),n);e.then((function(e){clearTimeout(i),t(e)}),(function(e){clearTimeout(i),r(e)}))}))},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/BetManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ChipEntry.ts","./EventManager.ts","./GameEvent.ts","./GameResult.ts","./SFXEnums.ts"],(function(e){"use strict";var t,n,i,s,a,c,r,o,h,u,E,l,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){a=e.cclegacy,c=e._decorator,r=e.CCInteger,o=e.Component},function(e){h=e.ChipEntry},function(e){u=e.EventManager},function(e){E=e.GameEvent},function(e){l=e.GameResult},function(e){p=e.SFXID}],execute:function(){var m,B,g,f,v,C,d;a._RF.push({},"d08b8Ug3UBL+p75yPU3Garm","BetManager",void 0);var A=c.ccclass,D=c.property;e("BetManager",(m=A("BetManager"),B=D({type:[h]}),g=D({type:r}),m((C=t((v=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return t=e.call.apply(e,[this].concat(a))||this,i(t,"chips",C,s(t)),i(t,"maxBet",d,s(t)),t.selectedChips=[],t.currentBet=0,t.previousBet=[],t.useInsurance=!1,t}n(t,e);var a=t.prototype;return a.start=function(){u.instance.gameEvents.on(E.CHIP_SELECTED,this.addChip,this),u.instance.gameEvents.on(E.GAME_STARTED,this.placeBet,this),u.instance.gameEvents.on(E.ACCEPT_INSURANCE,this.onAcceptInsurance,this),u.instance.gameEvents.on(E.SPLIT_HAND,this.placeBet,this),u.instance.gameEvents.on(E.GAME_RESET,this.clearBet,this),u.instance.gameEvents.on(E.GAME_ENDED,this.onGameEnded,this),u.instance.gameEvents.emit(E.CHIP_ENTRY_READY,this.chips,this.maxBet,this)},a.onDestroy=function(){u.instance.gameEvents.off(E.CHIP_SELECTED,this.addChip,this),u.instance.gameEvents.off(E.GAME_STARTED,this.placeBet,this),u.instance.gameEvents.off(E.ACCEPT_INSURANCE,this.onAcceptInsurance,this),u.instance.gameEvents.off(E.SPLIT_HAND,this.placeBet,this),u.instance.gameEvents.off(E.GAME_RESET,this.clearBet,this),u.instance.gameEvents.off(E.GAME_ENDED,this.onGameEnded,this)},a.addChip=function(e){this.currentBet+e.value>this.maxBet?console.warn("Max bet reached"):(this.selectedChips.push(e),this.currentBet+=Number(e.value),this.currentBet=Math.round(100*this.currentBet)/100,console.log("Current bet: "+this.currentBet),u.instance.gameEvents.emit(E.ADD_CHIP_UI,e,this),u.instance.gameEvents.emit(E.UPDATE_BET_VALUE,this.currentBet,this),u.instance.gameEvents.emit(E.PLAY_SFX,p.Chip,this))},a.clearBet=function(){this.selectedChips=[],this.currentBet=0,u.instance.gameEvents.emit(E.UPDATE_BET_VALUE,this.currentBet,this)},a.placeBet=function(){console.log("Bet placed"),u.instance.gameEvents.emit(E.BET_PLACED,-this.currentBet,this)},a.onAcceptInsurance=function(){this.useInsurance=!0,u.instance.gameEvents.emit(E.BET_PLACED,.5*-this.currentBet,this)},a.onGameEnded=function(e,t,n){var i=this;this.previousBet=this.getSelectedChips();var s=0;this.useInsurance&&n.hasBlackjack()&&(s+=.5*this.currentBet*2),t.forEach((function(t){var n=1;switch(e[t.getIndex()]){case l.Draw:n+=0;break;case l.WinBlackJack:n+=1.5;break;case l.Win:t.isDoublingDown()?n+=2:n+=1;break;case l.Lose:t.isDoublingDown()?n-=2:n-=1}s+=i.currentBet*n})),u.instance.gameEvents.emit(E.PAYOUT,s,this),u.instance.gameEvents.emit(E.PLAY_SFX,p.CoinDrop,this)},a.reBet=function(){var e=this;this.clearBet(),this.previousBet.length>0&&this.previousBet.forEach((function(t){e.addChip(t)}))},a.getTotalBet=function(){return this.currentBet},a.getSelectedChips=function(){return[].concat(this.selectedChips)},t}(o)).prototype,"chips",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=t(v.prototype,"maxBet",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 500}}),f=v))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/BetUIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GameEvent.ts","./ChipButton.ts","./SFXEnums.ts","./GenericAnimation.ts"],(function(t){"use strict";var e,i,n,a,o,s,r,c,l,u,h,p,f,g,b,v,P,m,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,r=t.Button,c=t.Node,l=t.Prefab,u=t.Label,h=t.instantiate,p=t.Vec2,f=t.tween,g=t.Component},function(t){b=t.EventManager},function(t){v=t.GameEvent},function(t){P=t.ChipButton},function(t){m=t.SFXID},function(t){A=t.GenericAnimation}],execute:function(){var E,B,y,d,I,C,S,_,T,U,w,k,R,D,M,z,O,G,L,x,H,Y,N;o._RF.push({},"e9ca2zmTQZHy6Nnf+a6KHMK","BetUIManager",void 0);var V=s.ccclass,F=s.property;t("BetUIManager",(E=V("BetUIManager"),B=F(r),y=F(r),d=F(c),I=F(c),C=F(c),S=F(c),_=F(l),T=F(l),U=F(u),w=F(u),E((D=e((R=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"potResetButton",D,a(e)),n(e,"rebetButton",M,a(e)),n(e,"bettingArea",z,a(e)),n(e,"potArea",O,a(e)),n(e,"playerArea",G,a(e)),n(e,"dealerArea",L,a(e)),n(e,"chipButtonPrefab",x,a(e)),n(e,"chipPrefab",H,a(e)),n(e,"totalBet",Y,a(e)),n(e,"maxBet",N,a(e)),e.chipButtons=[],e.chipStacks=new Map,e.chipStackPositions=new Map,e.potOriginalPos=void 0,e}i(e,t);var o=e.prototype;return o.start=function(){b.instance.gameEvents.on(v.CHIP_ENTRY_READY,this.setupChipButtons,this),b.instance.gameEvents.on(v.LOCK_INPUT,this.lockInput,this),b.instance.gameEvents.on(v.ADD_CHIP_UI,this.addChip,this),b.instance.gameEvents.on(v.UPDATE_BET_VALUE,this.updateBetValue,this),b.instance.gameEvents.on(v.GAME_STARTED,this.onGameStarted,this),b.instance.gameEvents.on(v.PAYOUT,this.payoutPot,this),b.instance.gameEvents.on(v.GAME_RESET,this.resetUI,this),this.potOriginalPos=this.potArea.position.clone(),this.resetUI(),this.rebetButton.interactable=!1;var t=this.rebetButton.transition;this.rebetButton.transition=r.Transition.COLOR,this.rebetButton.transition=t},o.resetUI=function(){console.log("Resetting ChipUI..."),this.chipButtons.forEach((function(t){t.setInteractable(!0)})),this.rebetButton.interactable=!0,this.potArea.removeAllChildren(),this.resetPot();var t=this.bettingArea.parent.parent.getComponent(A);t.setTargetAsOriginalPos(),t.animateEntry()},o.lockInput=function(){this.chipButtons.forEach((function(t){t.setInteractable(!1)})),this.rebetButton.interactable=!1,this.potResetButton.interactable=!1},o.onDestroy=function(){b.instance.gameEvents.off(v.CHIP_ENTRY_READY,this.setupChipButtons,this),b.instance.gameEvents.off(v.LOCK_INPUT,this.lockInput,this),b.instance.gameEvents.off(v.ADD_CHIP_UI,this.addChip,this),b.instance.gameEvents.off(v.UPDATE_BET_VALUE,this.updateBetValue,this),b.instance.gameEvents.off(v.GAME_STARTED,this.onGameStarted,this),b.instance.gameEvents.off(v.PAYOUT,this.payoutPot,this),b.instance.gameEvents.off(v.GAME_RESET,this.resetUI,this)},o.setupChipButtons=function(t,e){for(var i=0;i<t.length;i++){var n=t[i],a=h(this.chipButtonPrefab);a.setParent(this.bettingArea);var o=a.getComponent(P);this.chipButtons.push(o),o.setup(n),a.setPosition(0,0)}this.maxBet.string="(Max bet $"+e+")"},o.addChip=function(t){var e=0;this.chipStackPositions.has(t.value)||(this.chipStacks.set(t.value,0),this.chipStackPositions.set(t.value,new p(this.chipStackPositions.size,0)));var i=this.chipStacks.get(t.value),n=this.chipStackPositions.get(t.value).x;if(e=this.chipStackPositions.get(t.value).y+1,i>=7)console.log("Too many chips for one type, stop displaying new chip");else{i%7==0&&(e=e-7-4);var a=h(this.chipPrefab);a.setParent(this.potArea);var o=a.getComponent(P);o.setup(t),o.setInteractable(!1),a.setPosition(0+20*n,0+5*e),this.chipStacks.set(t.value,i+1),this.chipStackPositions.set(t.value,new p(n,e))}},o.updateBetValue=function(t){this.totalBet.string="Bet: $"+t,t<=0?this.resetPot():this.potResetButton.interactable=!0},o.resetPot=function(){this.potArea.removeAllChildren(),this.potArea.active=!0,console.log("Pot Original Pos: "+this.potOriginalPos),this.potArea.setPosition(this.potOriginalPos),this.chipStacks.clear(),this.chipStackPositions.clear(),this.potResetButton.interactable=!1,b.instance.gameEvents.emit(v.PLAY_SFX,m.Chip,this)},o.onGameStarted=function(){var t=this.bettingArea.parent.parent.getComponent(A);t.setTargetAsOriginalPos(),t.animateExit()},o.payoutPot=function(t){var e,i=this;e=t>0?this.playerArea.getWorldPosition():this.dealerArea.getWorldPosition(),f(this.potArea).to(.3,{worldPosition:e}).call((function(){i.potArea.active=!1})).start()},e}(g)).prototype,"potResetButton",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(R.prototype,"rebetButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(R.prototype,"bettingArea",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(R.prototype,"potArea",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(R.prototype,"playerArea",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(R.prototype,"dealerArea",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(R.prototype,"chipButtonPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(R.prototype,"chipPrefab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(R.prototype,"totalBet",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(R.prototype,"maxBet",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=R))||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/BGMEntry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BGMID.ts"],(function(t){"use strict";var e,i,r,n,o,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,n=t._decorator,o=t.Enum,c=t.AudioClip},function(t){u=t.BGMID}],execute:function(){var l,a,p,s,y,f,M;r._RF.push({},"0f2ddFoKaFM1pQ01xImtet6","BGMEntry",void 0);var d=n.ccclass,b=n.property;t("BGMEntry",(l=d("BGMEntry"),a=b({type:o(u)}),p=b({type:c}),l((f=e((y=function(){i(this,"id",f,this),i(this,"clip",M,this)}).prototype,"id",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.MainMenu}}),M=e(y.prototype,"clip",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=y))||s));r._RF.pop()}}}));

System.register("chunks:///_virtual/BGMID.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var c;e("BGMID",void 0),t._RF.push({},"b78c9uJHqlKbKJKre4ciZIT","BGMID",void 0),function(e){e[e.MainMenu=0]="MainMenu",e[e.Gameplay=1]="Gameplay",e[e.Victory=2]="Victory",e[e.Defeat=3]="Defeat"}(c||(c=e("BGMID",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/BGMManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BGMEntry.ts"],(function(e){"use strict";var r,t,i,o,n,a,c,s,u,l;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,n=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,c=e._decorator,s=e.AudioSource,u=e.Component},function(e){l=e.BGMEntry}],execute:function(){var p,g,b,f,m,M,h;a._RF.push({},"d8b0frQPh5OJqG1Am8NUgt0","BGMManager",void 0);var y=c.ccclass,v=c.property;e("BGMManager",(p=y("BGMManager"),g=v(s),b=v({type:[l]}),p((M=r((m=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,i(r,"bgmSource",M,o(r)),i(r,"bgmEntries",h,o(r)),r.bgmMap=new Map,r}t(r,e);var a=r.prototype;return a.onLoad=function(){for(var e,r=n(this.bgmEntries);!(e=r()).done;){var t=e.value;this.bgmMap.set(t.id,t.clip)}},a.playBGM=function(e,r){void 0===r&&(r=!0);var t=this.bgmMap.get(e);t&&(this.bgmSource.stop(),this.bgmSource.clip=t,this.bgmSource.loop=r,this.bgmSource.play())},r}(u)).prototype,"bgmSource",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=r(m.prototype,"bgmEntries",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=m))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/Card.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardAsset.ts","./EventManager.ts","./GameEvent.ts","./SFXEnums.ts"],(function(t){"use strict";var e,n,a,r,i,s,c,o,u,l,p,d,f;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){r=t.cclegacy,i=t._decorator,s=t.Sprite,c=t.Component,o=t.tween,u=t.Vec3},function(t){l=t.CardAsset},function(t){p=t.EventManager},function(t){d=t.GameEvent},function(t){f=t.SFXID}],execute:function(){var h;r._RF.push({},"e396avruaJIdbdNpR39MdzA","Card",void 0);var m=i.ccclass;i.property,t("Card",m("Card")(h=function(t){function r(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this).cardSprite=null,e.rankLabel=null,e.suitLabel=null,e.suit="",e.rank="",e.values=[],e.isFaceDown=!0,e.cardData=null,e}e(r,t);var i=r.prototype;return i.onLoad=function(){this.cardSprite=this.node.getComponent(s)},i.init=function(t){this.suit=t.suit,this.rank=t.rank,this.values=t.values,this.cardSprite||(this.cardSprite=this.node.getComponent(s)),this.cardSprite.spriteFrame=l.backSpriteFrame,this.node.name=t.rank+"_of_"+t.suit,this.cardData=t},i.getValues=function(){return this.values},i.getName=function(){return this.rank+" of "+this.suit},i.flipCard=function(){var t=n(a().mark((function t(){var e,n=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.node.scale.clone(),console.log("Flipping card:",this.getName(),"Is face down:",this.cardData.isFaceDown),p.instance.gameEvents.emit(d.PLAY_SFX,f.CardFlip,this),t.next=5,new Promise((function(t){o(n.node).to(.2,{scale:new u(0,e.y,e.z)}).call((function(){n.isFaceDown?n.cardSprite.spriteFrame=n.cardData.spriteFrame:n.cardSprite.spriteFrame=l.backSpriteFrame})).to(.2,{scale:e}).call((function(){n.isFaceDown=!n.isFaceDown,console.log("Card flipped:",n.getName(),"Is face down now:",n.isFaceDown)})).call(t).start()}));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r}(c))||h);r._RF.pop()}}}));

System.register("chunks:///_virtual/CardAsset.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"e308akf1GVL3rkWLtL462S8","CardAsset",void 0);t("CardAsset",{backSpriteFrame:null});e._RF.pop()}}}));

System.register("chunks:///_virtual/CardData.ts",["cc"],(function(){"use strict";var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"55ff3nizsVDia/+0bXMjkqg","CardData",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ChipButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GameEvent.ts"],(function(t){"use strict";var n,e,i,r,o,s,c,a,p;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,r=t.Sprite,o=t.Label,s=t.Button,c=t.Component},function(t){a=t.EventManager},function(t){p=t.GameEvent}],execute:function(){var u;e._RF.push({},"7e783l0UeJB3bOowfHZqLBZ","ChipButton",void 0);var h=i.ccclass;i.property,t("ChipButton",h("ChipButton")(u=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(n=t.call.apply(t,[this].concat(i))||this).chipEntry=void 0,n.isInteractable=!0,n}n(e,t);var i=e.prototype;return i.setup=function(t){var n=this;this.chipEntry=t,this.node.getComponent(r).spriteFrame=this.chipEntry.sprite,this.node.getComponentInChildren(o).string=this.chipEntry.text,this.node.on(s.EventType.CLICK,(function(){1==n.isInteractable&&a.instance.gameEvents.emit(p.CHIP_SELECTED,n.chipEntry)}),this)},i.setInteractable=function(t){this.isInteractable=t},e}(c))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/ChipEntry.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,n,l,o;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,n=t._decorator,l=t.SpriteFrame,o=t.CCFloat}],execute:function(){var u,a,p,c,s,y,f,b;r._RF.push({},"f4b51iIvlxA/byunJlgPqIg","ChipEntry",void 0);var h=n.ccclass,g=n.property;t("ChipEntry",(u=h("ChipEntry"),a=g({type:l}),p=g({type:o}),u((y=e((s=function(){i(this,"sprite",y,this),i(this,"value",f,this),i(this,"text",b,this)}).prototype,"sprite",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=e(s.prototype,"value",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=e(s.prototype,"text",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=s))||c));r._RF.pop()}}}));

System.register("chunks:///_virtual/Dealer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Participant.ts"],(function(t){"use strict";var e,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.Participant}],execute:function(){n._RF.push({},"4053843dDZINYWydrxSAKS8","Dealer",void 0);t("Dealer",function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var r=n.prototype;return r.shouldHit=function(){return this.getHandValue()<17},r.hasAceFaceUp=function(){return"A"===this.hand[1].rank},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/Deck.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var r,s;return{setters:[function(t){r=t.extends},function(t){s=t.cclegacy}],execute:function(){s._RF.push({},"4e0a8nNSDNOJqxynrmrj65G","Deck",void 0);t("Deck",function(){function t(t,r){void 0===r&&(r=1),this.cards=[],this.buildDeck(t,r),this.shuffle()}var s=t.prototype;return s.buildDeck=function(t,s){this.cards=[];for(var n=0;n<s;n++){var i;(i=this.cards).push.apply(i,t.map((function(t){return r({},t)})))}},s.shuffle=function(){for(var t=this.cards.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),s=[this.cards[r],this.cards[t]];this.cards[t]=s[0],this.cards[r]=s[1]}},s.peak=function(t){return t>=0&&t<this.cards.length?this.cards[t]:null},s.deal=function(){return this.cards.length>0?this.cards.pop():null},s.remaining=function(){return this.cards.length},s.reset=function(t,r){void 0===r&&(r=1),this.buildDeck(t,r),this.shuffle()},t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/DeckManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardAsset.ts","./Deck.ts","./EventManager.ts","./GameEvent.ts"],(function(e){"use strict";var t,r,a,n,o,s,i,c,d,l,u,p,f,h;return{setters:[function(e){t=e.inheritsLoose,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){n=e.cclegacy,o=e._decorator,s=e.resources,i=e.JsonAsset,c=e.SpriteFrame,d=e.SpriteAtlas,l=e.Component},function(e){u=e.CardAsset},function(e){p=e.Deck},function(e){f=e.EventManager},function(e){h=e.GameEvent}],execute:function(){var m;n._RF.push({},"ed462+8DFFGPJCNknxnkNxE","DeckManager",void 0);var D=o.ccclass;o.property,e("DeckManager",D("DeckManager")(m=function(e){function n(){for(var t,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(t=e.call.apply(e,[this].concat(a))||this).loadedCardData=[],t.cardDeck=null,t}t(n,e);var o=n.prototype;return o.start=function(){this.loadedCardData.length;f.instance.gameEvents.on(h.GAME_RESET,this.resetDeck,this)},o.onDestroy=function(){f.instance.gameEvents.off(h.GAME_RESET,this.resetDeck,this)},o.onLoad=function(){var e=this;s.load("deck",i,(function(t,r){t?console.error("Failed to load card data:",t):(e.loadedCardData=r.json,e.loadSpriteFromAtlas())}))},o.loadSprites=function(){var e=this,t=this.loadedCardData.map((function(t){return e.loadSpriteFrame("sprites/Cards/"+t.sprite+"/spriteFrame").then((function(e){t.spriteFrame=e})).catch((function(e){console.error("Failed to load sprite for "+t.rank+" of "+t.suit+":",e)}))}));t.push(u.backSpriteFrame?Promise.resolve():this.loadSpriteFrame("sprites/Cards/back01/spriteFrame").then((function(e){u.backSpriteFrame=e}))),Promise.all(t).then((function(){console.log("All sprites loaded, starting game..."),e.cardDeck=new p(e.loadedCardData,2),f.instance.gameEvents.emit(h.DECK_LOADED)})).catch((function(e){console.error("Error loading deck:",e)}))},o.loadSpriteFrame=function(e){return new Promise((function(t,r){s.load(e,c,(function(e,a){e?r(e):t(a)}))}))},o.loadSpriteAtlas=function(){return new Promise((function(e,t){s.load("Cards/card",d,(function(r,a){r?(console.error("Atlas load error:",r),t(r)):(console.log("Atlas load success"),e(a))}))}))},o.loadSpriteFromAtlas=function(){var e=r(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadSpriteAtlas();case 2:t=e.sent,this.loadedCardData.forEach((function(e){var r=t.getSpriteFrame(e.sprite);r?e.spriteFrame=r:console.error("Failed to load spriteFrame:"+e.sprite)})),u.backSpriteFrame=t.getSpriteFrame("BACK_1"),this.cardDeck=new p(this.loadedCardData,2),f.instance.gameEvents.emit(h.DECK_LOADED);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.dealCard=function(){return this.cardDeck?this.cardDeck.deal():null},o.resetDeck=function(){this.loadedCardData.length>0&&(console.log("Resetting deck..."),this.cardDeck.reset(this.loadedCardData,2),f.instance.gameEvents.emit(h.DECK_LOADED))},n}(l))||m);n._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,r,s,a,i;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){r=e.cclegacy,s=e._decorator,a=e.EventTarget,i=e.Component}],execute:function(){var c,o;r._RF.push({},"720c6VaEflArbOlZ8L86/KH","EventManager",void 0);var u=s.ccclass;s.property,e("EventManager",u("EventManager")(((o=function(e){function r(){var n;return(n=e.call(this)||this).gameEvents=void 0,n.networkEvents=void 0,n.sfxEvents=void 0,n.gameEvents=new a,n}return n(r,e),t(r,null,[{key:"instance",get:function(){return this._instance||(this._instance=new r),this._instance}}]),r}(i))._instance=void 0,c=o))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/GameEvent.ts",["cc"],(function(e){"use strict";var E;return{setters:[function(e){E=e.cclegacy}],execute:function(){var a;e("GameEvent",void 0),E._RF.push({},"c06c4NK4XlKCIImdeZl1QdI","GameEvent",void 0),function(e){e.PLAYER_TURN_CHANGED="player-turn-change",e.PLAYER_TURN_ENDED="player-turn-end",e.GAMESTATE_CHANGED="game-state-change",e.START_TIMER="start-timer",e.TIME_UP="time-up",e.CHIP_ENTRY_READY="chip-entry-ready",e.CHIP_SELECTED="chip-selected",e.ADD_CHIP_UI="add-chip-ui",e.UPDATE_BET_VALUE="add-bet-value",e.DECK_LOADED="deck-loaded",e.DEAL_CARD="deal-card",e.BET_PLACED="bet-placed",e.ANIMATION_FINISHED="animation-finished",e.OFFER_INSURANCE="offer-insurance",e.ACCEPT_INSURANCE="accept-insurance",e.SPLIT_HAND="split-hand",e.CHANGE_HAND="change-hand",e.DEALER_TURN_END="dealer-turn-end",e.GAME_STARTED="game-started",e.GAME_ENDED="game-ended",e.PLAYER_MONEY_CHANGED="money-changed",e.PAYOUT="payout",e.GAME_RESET="game-reset",e.LOCK_INPUT="lock-input",e.UNLOCK_INPUT="unlock-input",e.PLAY_SFX="play-sfx",e.QUEUE_ANIMATION="queue-animation",e.SAVE_GAME_LOG="save-game-log"}(a||(a=e("GameEvent",{}))),E._RF.pop()}}}));

System.register("chunks:///_virtual/GameLogEntry.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"93438qirtxGtI8vWAXIJWEQ","GameLogEntry",void 0);t("GameLogEntry",function(){function t(t){void 0===t&&(t=new Date),this.timestamp=void 0,this.content=void 0,this.timestamp=t}var e=t.prototype;return e.getTimeStamp=function(){return this.timestamp.toLocaleDateString()+" "+this.timestamp.toLocaleTimeString()},e.getContent=function(){return this.content},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DeckManager.ts","./EventManager.ts","./GameEvent.ts","./GameState.ts","./GameResult.ts","./PlayerData.ts","./Player.ts","./Dealer.ts","./SFXEnums.ts"],(function(e){"use strict";var t,a,n,s,r,i,c,h,l,d,u,m,o,g,y,E,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized,r=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,c=e._decorator,h=e.Component},function(e){l=e.DeckManager},function(e){d=e.EventManager},function(e){u=e.GameEvent},function(e){m=e.GameState},function(e){o=e.GameResult},function(e){g=e.PlayerData},function(e){y=e.Player},function(e){E=e.Dealer},function(e){D=e.SFXID}],execute:function(){var v,P,I,p,T;i._RF.push({},"08c86QVXQtNfqsdntmI/7E9","GameManager",void 0);var H=c.ccclass,f=c.property;e("GameManager",(v=H("GameManager"),P=f(l),v((T=t((p=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,n(t,"deckManager",T,s(t)),t.playerDatas=[],t.myPlayerID=2,t.players=new Map,t.playersThisTurn=void 0,t.currentPlayerID=void 0,t.currentPlayerHands=[],t.dealer=new E,t.gameState=m.BetPhase,t.currentHandIndex=0,t.phaseTimer=10,t}a(t,e);var i=t.prototype;return i.start=function(){var e=this;d.instance.gameEvents.on(u.DECK_LOADED,this.onDeckLoaded,this),d.instance.gameEvents.on(u.ANIMATION_FINISHED,this.onAnimationFinished,this),d.instance.gameEvents.emit(u.GAMESTATE_CHANGED,this.gameState),this.playerDatas.push(new g(1,1e3)),this.playerDatas.push(new g(this.myPlayerID,1e3)),this.playerDatas.push(new g(3,1e3)),this.playerDatas.forEach((function(t){var a=[new y(0,t.getID())];e.players.set(t.getID(),a)})),this.playersThisTurn=new Map(this.players)},i.onDestroy=function(){d.instance.gameEvents.off(u.DECK_LOADED,this.onDeckLoaded,this),d.instance.gameEvents.off(u.ANIMATION_FINISHED,this.onAnimationFinished,this)},i.onDeckLoaded=function(e){console.log("Game started with deck:",e)},i.getNextPlayerHands=function(){for(var e,t=r(this.playersThisTurn);!(e=t()).done;){var a=e.value,n=a[0],s=a[1];if(s.length>0)return this.currentHandIndex=0,console.log("Current player is: "+n),this.currentPlayerID=n,d.instance.gameEvents.emit(u.PLAYER_TURN_CHANGED,n,this),this.currentPlayerID!==this.myPlayerID?(this.startPhaseTimer(),d.instance.gameEvents.emit(u.LOCK_INPUT)):this.startMyTurn(),s}this.changeGameState(m.PlayerTurnEnd)},i.initialDeal=function(){var e=this;this.changeGameState(m.InitialDeal),d.instance.gameEvents.emit(u.LOCK_INPUT);for(var t=0;t<2;t++){this.playerDatas.forEach((function(t){d.instance.gameEvents.emit(u.PLAYER_TURN_CHANGED,t.getID(),e);var a=e.deckManager.dealCard();a&&e.playersThisTurn.get(t.getID())[e.currentHandIndex].addCard(a),d.instance.gameEvents.emit(u.DEAL_CARD,e.playersThisTurn.get(t.getID())[e.currentHandIndex])}));var a=this.deckManager.dealCard();a&&this.dealer.addCard(a),d.instance.gameEvents.emit(u.PLAYER_TURN_CHANGED,this.myPlayerID,this),d.instance.gameEvents.emit(u.DEAL_CARD,this.dealer)}},i.checkForInsurance=function(){var e=this;this.dealer.hasAceFaceUp()?(this.changeGameState(m.InsuranceOffer),d.instance.gameEvents.emit(u.OFFER_INSURANCE,(function(t){e.insuranceResponse(t)})),this.startPhaseTimer()):this.startGame()},i.insuranceResponse=function(e){this.startGame()},i.startGame=function(){this.changeGameState(m.PlayerTurn),this.currentPlayerHands=this.getNextPlayerHands()},i.startMyTurn=function(){d.instance.gameEvents.emit(u.GAME_STARTED,this.currentPlayerHands[this.currentHandIndex]),(this.currentPlayerHands[this.currentHandIndex].hasBlackjack()||this.dealer.hasBlackjack())&&(this.dealer.revealAll=!0,this.playerTurnEnd())},i.onAnimationFinished=function(){this.gameState===m.InitialDeal&&this.checkForInsurance(),this.gameState===m.PlayerTurn&&this.currentPlayerID==this.myPlayerID&&(d.instance.gameEvents.emit(u.UNLOCK_INPUT),this.currentPlayerHands[this.currentHandIndex].isBusted()&&(this.currentHandIndex+1==this.currentPlayerHands.length?(this.playerTurnEnd(),d.instance.gameEvents.emit(u.LOCK_INPUT)):(this.currentHandIndex++,d.instance.gameEvents.emit(u.CHANGE_HAND,this.currentHandIndex)))),this.gameState===m.PlayerTurnEnd&&this.playersThisTurn.size<=0&&(this.dealer.revealAll=!0,this.dealerPlay()),this.gameState===m.DealerTurn&&this.endGame(),this.gameState===m.DealerTurnEnd&&this.determineWinner()},i.playerHit=function(){this.startPhaseTimer(),d.instance.gameEvents.emit(u.LOCK_INPUT);var e=this.deckManager.dealCard();e&&(this.currentPlayerHands[this.currentHandIndex].addCard(e),d.instance.gameEvents.emit(u.DEAL_CARD,this.currentPlayerHands[this.currentHandIndex]))},i.playerStand=function(){d.instance.gameEvents.emit(u.LOCK_INPUT),console.log("Player stands with hand:",this.currentPlayerHands[this.currentHandIndex].getHand()),this.currentHandIndex+1==this.currentPlayerHands.length?this.playerTurnEnd():(this.currentHandIndex++,d.instance.gameEvents.emit(u.CHANGE_HAND,this.currentHandIndex),d.instance.gameEvents.emit(u.UNLOCK_INPUT))},i.playerDouble=function(){d.instance.gameEvents.emit(u.LOCK_INPUT);var e=this.deckManager.dealCard();e&&(this.currentPlayerHands[this.currentHandIndex].addCard(e),d.instance.gameEvents.emit(u.DEAL_CARD,this.currentPlayerHands[this.currentHandIndex])),this.currentPlayerHands[this.currentHandIndex].doublingDown(),this.currentHandIndex+1==this.currentPlayerHands.length?this.playerTurnEnd():(this.currentHandIndex++,d.instance.gameEvents.emit(u.CHANGE_HAND,this.currentHandIndex))},i.playerSplit=function(){if(this.currentPlayerHands[this.currentHandIndex].canSplit()){var e=this.currentPlayerHands[this.currentHandIndex],t=e.splitHand(),a=new y(this.currentHandIndex+1,e.getPlayerID());a.addCard(t),this.currentPlayerHands.push(a);var n=this.deckManager.dealCard();n&&e.addCard(n),(n=this.deckManager.dealCard())&&a.addCard(n),d.instance.gameEvents.emit(u.SPLIT_HAND,this.currentPlayerHands)}},i.dealerPlay=function(){for(d.instance.gameEvents.emit(u.LOCK_INPUT),this.changeGameState(m.DealerTurn),d.instance.gameEvents.emit(u.PLAYER_TURN_CHANGED,this.myPlayerID,this),this.areAllPlayersBusted()&&(console.log("All players' hands are busted"),this.determineWinner());this.dealer.shouldHit();){var e=this.deckManager.dealCard();e&&(this.dealer.addCard(e),console.log("Dealer hits and receives:",e),d.instance.gameEvents.emit(u.DEAL_CARD,this.dealer))}console.log("Dealer Hand now:",this.dealer.getHand()),this.endGame()},i.determineWinner=function(){var e=this;this.changeGameState(m.GameEnd);var t=[],a=this.players.get(this.myPlayerID);a.forEach((function(a){var n=a.getHandValue(),s=e.dealer.getHandValue(),r=o.Draw;a.hasBlackjack()&&e.dealer.hasBlackjack()?r=o.Draw:a.hasBlackjack()?(r=o.WinBlackJack,d.instance.gameEvents.emit(u.PLAY_SFX,D.Win,e)):e.dealer.hasBlackjack()||a.isBusted()?(r=o.Lose,d.instance.gameEvents.emit(u.PLAY_SFX,D.Lose,e)):e.dealer.isBusted()||n>s?(r=o.Win,d.instance.gameEvents.emit(u.PLAY_SFX,D.Win,e)):s>n&&(r=o.Lose,d.instance.gameEvents.emit(u.PLAY_SFX,D.Lose,e)),t.push(r)})),d.instance.gameEvents.emit(u.UNLOCK_INPUT),d.instance.gameEvents.emit(u.GAME_ENDED,t,a,this.dealer)},i.areAllPlayersBusted=function(){for(var e,t=r(this.players);!(e=t()).done;)for(var a,n=e.value,s=(n[0],n[1]),i=r(s);!(a=i()).done;){if(!a.value.isBusted())return!1}return!0},i.endGame=function(){d.instance.gameEvents.emit(u.DEALER_TURN_END),this.changeGameState(m.DealerTurnEnd)},i.resetGame=function(){for(var e,t=r(this.players);!(e=t()).done;){var a=e.value,n=(a[0],a[1]);n.forEach((function(e){e.resetHand()})),n.length>1&&n.pop()}this.playersThisTurn=new Map(this.players),this.dealer.resetHand(),this.dealer.revealAll=!1,d.instance.gameEvents.emit(u.GAME_RESET),this.changeGameState(m.BetPhase),this.currentHandIndex=0},i.changeGameState=function(e){this.gameState=e,d.instance.gameEvents.emit(u.GAMESTATE_CHANGED,this.gameState),console.log("Current gamestate: "+this.gameState)},i.startPhaseTimer=function(){var e=this;this.unscheduleAllCallbacks(),this.scheduleOnce((function(){e.phaseTimeUp()}),this.phaseTimer),d.instance.gameEvents.emit(u.START_TIMER,this.phaseTimer)},i.phaseTimeUp=function(){switch(this.gameState){case m.BetPhase:case m.InitialDeal:break;case m.InsuranceOffer:this.insuranceResponse(!1);break;case m.PlayerTurn:this.playerTurnEnd();break;case m.GameEnd:this.resetGame()}d.instance.gameEvents.emit(u.TIME_UP,this.phaseTimer)},i.playerTurnEnd=function(){d.instance.gameEvents.emit(u.PLAYER_TURN_ENDED,this.currentPlayerHands),this.currentPlayerID==this.myPlayerID&&d.instance.gameEvents.emit(u.LOCK_INPUT),this.playersThisTurn.delete(this.currentPlayerID),this.currentPlayerHands=this.getNextPlayerHands(),this.currentPlayerID==this.myPlayerID&&d.instance.gameEvents.emit(u.UNLOCK_INPUT),this.playersThisTurn.size<=0&&(console.log("All players turn ended"),this.dealer.revealAll=!0,this.dealerPlay())},t}(h)).prototype,"deckManager",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=p))||I));i._RF.pop()}}}));

System.register("chunks:///_virtual/GameResult.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var c;e("GameResult",void 0),t._RF.push({},"02151UUWMtHWZXICZN4Xhrj","GameResult",void 0),function(e){e[e.Win=0]="Win",e[e.Lose=1]="Lose",e[e.WinBlackJack=2]="WinBlackJack",e[e.Draw=3]="Draw"}(c||(c=e("GameResult",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/GameResultEntry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameResult.ts"],(function(e){"use strict";var t,r,i,n,u,s,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty},function(e){i=e.cclegacy,n=e._decorator,u=e.Enum,s=e.SpriteFrame},function(e){a=e.GameResult}],execute:function(){var l,o,c,p,m,y,f;i._RF.push({},"d1a829Js51PGKRXmzq0xkVS","GameResultEntry",void 0);var R=n.ccclass,b=n.property;e("GameResultEntry",(l=R("GameResultEntry"),o=b({type:u(a)}),c=b({type:s}),l((y=t((m=function(){r(this,"result",y,this),r(this,"spriteFrame",f,this)}).prototype,"result",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a.Win}}),f=t(m.prototype,"spriteFrame",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=m))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/GameState.ts",["cc"],(function(e){"use strict";var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){var n;e("GameState",void 0),a._RF.push({},"5400f0RNPJKirsI/V6j5FAh","GameState",void 0),function(e){e[e.BetPhase=0]="BetPhase",e[e.InitialDeal=1]="InitialDeal",e[e.InsuranceOffer=2]="InsuranceOffer",e[e.PlayerTurn=3]="PlayerTurn",e[e.PlayerTurnEnd=4]="PlayerTurnEnd",e[e.DealerTurn=5]="DealerTurn",e[e.DealerTurnEnd=6]="DealerTurnEnd",e[e.GameEnd=7]="GameEnd"}(n||(n=e("GameState",{}))),a._RF.pop()}}}));

System.register("chunks:///_virtual/GameStateEntry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameState.ts"],(function(t){"use strict";var e,r,a,i,n,o,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.initializerDefineProperty},function(t){a=t.cclegacy,i=t._decorator,n=t.Enum,o=t.SpriteFrame},function(t){c=t.GameState}],execute:function(){var u,l,s,p,m,y,f;a._RF.push({},"56fa2VHrhVM8L1btw/FAVll","GameStateEntry",void 0);var S=i.ccclass,b=i.property;t("GameStateEntry",(u=S("GameStateEntry"),l=b({type:n(c)}),s=b({type:o}),u((y=e((m=function(){r(this,"gameState",y,this),r(this,"spriteFrame",f,this)}).prototype,"gameState",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.BetPhase}}),f=e(m.prototype,"spriteFrame",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=m))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/GenericAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimationType.ts"],(function(i){"use strict";var t,n,e,o,a,s,r,c,l,u,h,p,g;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){a=i.cclegacy,s=i._decorator,r=i.Enum,c=i.Vec3,l=i.view,u=i.UIOpacity,h=i.tween,p=i.Component},function(i){g=i.AnimationType}],execute:function(){var d,y,m,f,b,T,w,v,k,A,S,D;a._RF.push({},"00977h5jdpPVqD5KSiGRVKK","GenericAnimation",void 0);var z=s.ccclass,F=s.property;i("GenericAnimation",(d=z("GenericAnimation"),y=F({type:r(g)}),m=F({type:r(g)}),f=F(c),b=F({visible:function(){return this.entryAnimationType===g.Fade||this.exitAnimationType===g.Fade}}),d((v=t((w=function(i){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(t=i.call.apply(i,[this].concat(a))||this).screenSize=l.getVisibleSize(),e(t,"animationDuration",v,o(t)),e(t,"entryAnimationType",k,o(t)),e(t,"exitAnimationType",A,o(t)),e(t,"onscreenTarget",S,o(t)),e(t,"initialOpacity",D,o(t)),t.originalPos=null,t.looping=!1,t.isShown=!1,t}n(t,i);var a=t.prototype;return a.onLoad=function(){this.originalPos=this.node.position.clone(),this.node.getComponent(u)||this.node.addComponent(u)},a.animateEntry=function(i){switch(this.node.active=!0,this.entryAnimationType){case g.FlyBottom:this.node.setPosition(new c(0,-this.screenSize.height,0)),h(this.node).to(this.animationDuration,{position:this.onscreenTarget},{easing:"backOut"}).call((function(){return null==i?void 0:i()})).start();break;case g.FlyTop:this.node.setPosition(new c(0,this.screenSize.height,0)),h(this.node).to(this.animationDuration,{position:this.onscreenTarget},{easing:"backOut"}).call((function(){return null==i?void 0:i()})).start();break;case g.FlyLeft:this.node.setPosition(new c(-this.screenSize.width,0,0)),h(this.node).to(this.animationDuration,{position:this.onscreenTarget},{easing:"backOut"}).call((function(){return null==i?void 0:i()})).start();break;case g.FlyRight:this.node.setPosition(new c(this.screenSize.width,0,0)),h(this.node).to(this.animationDuration,{position:this.onscreenTarget},{easing:"backOut"}).call((function(){return null==i?void 0:i()})).start();break;case g.Scale:this.node.setScale(new c(0,0,1)),h(this.node).to(this.animationDuration,{scale:new c(1,1,1)},{easing:"backOut"}).call((function(){return null==i?void 0:i()})).start();break;case g.Fade:var t=this.node.getComponent(u);t.opacity=0,h(t).to(this.animationDuration,{opacity:this.initialOpacity},{easing:"backOut"}).call((function(){return null==i?void 0:i()})).start()}this.isShown=!0},a.animateExit=function(i){var t=this;switch(this.exitAnimationType){case g.FlyBottom:this.node.setPosition(this.onscreenTarget),h(this.node).to(this.animationDuration,{position:new c(0,-this.screenSize.height,0)},{easing:"backIn"}).call((function(){null==i||i(),t.looping||(t.node.active=!1)})).start();break;case g.FlyTop:this.node.setPosition(this.onscreenTarget),h(this.node).to(this.animationDuration,{position:new c(0,this.screenSize.height,0)},{easing:"backIn"}).call((function(){null==i||i(),t.looping||(t.node.active=!1)})).start();break;case g.FlyLeft:this.node.setPosition(this.onscreenTarget),h(this.node).to(this.animationDuration,{position:new c(-this.screenSize.width,0,0)},{easing:"backIn"}).call((function(){null==i||i(),t.looping||(t.node.active=!1)})).start();break;case g.FlyRight:this.node.setPosition(this.onscreenTarget),h(this.node).to(this.animationDuration,{position:new c(this.screenSize.width,0,0)},{easing:"backIn"}).call((function(){null==i||i(),t.looping||(t.node.active=!1)})).start();break;case g.Scale:this.node.setScale(new c(1,1,1)),h(this.node).to(this.animationDuration,{scale:new c(0,0,1)},{easing:"backIn"}).call((function(){null==i||i(),t.looping||(t.node.active=!1)})).start();break;case g.Fade:var n=this.node.getComponent(u);n.opacity=this.initialOpacity,h(n).to(this.animationDuration,{opacity:0},{easing:"backIn"}).call((function(){null==i||i(),t.looping||(t.node.active=!1)})).start()}this.isShown=!1},a.loopAnimation=function(){var i=this;this.looping=!0;!function t(){i.looping&&i.animateEntry((function(){i.animateExit((function(){t()}))}))}()},a.stopLoop=function(){this.looping=!1,this.node.active=!1},a.setEntryAnimation=function(i){this.entryAnimationType=i},a.setExitAnimation=function(i){this.exitAnimationType=i},a.setOnscreenTarget=function(i){this.onscreenTarget=i.clone()},a.setTargetAsOriginalPos=function(){this.onscreenTarget=this.originalPos.clone()},a.setInitialOpacity=function(i){this.initialOpacity=i},t}(p)).prototype,"animationDuration",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.25}}),k=t(w.prototype,"entryAnimationType",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.FlyTop}}),A=t(w.prototype,"exitAnimationType",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.FlyTop}}),S=t(w.prototype,"onscreenTarget",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(0,0,0)}}),D=t(w.prototype,"initialOpacity",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 255}}),T=w))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/GenericPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GameEvent.ts","./PopupPage.ts","./GenericAnimation.ts","./SFXEnums.ts"],(function(t){"use strict";var e,n,i,a,r,o,s,u,c,l,h,p,g,f,P,m,b,d,v,x;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose,o=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){u=t.cclegacy,c=t._decorator,l=t.Label,h=t.Node,p=t.Prefab,g=t.Button,f=t.instantiate,P=t.Component},function(t){m=t.EventManager},function(t){b=t.GameEvent},function(t){d=t.PopupPage},function(t){v=t.GenericAnimation},function(t){x=t.SFXID}],execute:function(){var B,y,E,C,w,A,I,T,G,S,F,L,z,_,k;u._RF.push({},"6906bO5ZJxLTKlisCgF8PU1","GenericPopup",void 0);var D=c.ccclass,X=c.property;t("GenericPopup",(B=D("GenericPopup"),y=X(l),E=X(l),C=X(h),w=X(p),A=X(g),I=X(g),B((S=e((G=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).anims=[],i(e,"titleText",S,a(e)),i(e,"messageText",F,a(e)),i(e,"buttonContainer",L,a(e)),i(e,"defaultButtonPrefab",z,a(e)),e.isShown=!1,e.currentPageIndex=0,i(e,"nextPageBtn",_,a(e)),i(e,"prevPageBtn",k,a(e)),e.popupPages=[],e}n(e,t);var u=e.prototype;return u.onLoad=function(){0==this.anims.length&&this.getGenericAnimation(this.node)},u.show=function(){var t=o(s().mark((function t(e,n,i,a,o){var u,c,l,h,p,g=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.node.active=!0,0==this.anims.length&&this.getGenericAnimation(this.node),this.nextPageBtn.node.active=!1,this.prevPageBtn.node.active=!1,this.titleText.string=e,this.popupPages=[],"string"==typeof n?this.messageText.string=n:Array.isArray(n)&&n.every((function(t){return t instanceof d}))&&(this.currentPageIndex=0,n.forEach((function(t){g.popupPages[t.pageNumber]=t.content})),this.messageText.string=this.popupPages[this.currentPageIndex],this.popupPages.length>1&&(this.nextPageBtn.node.active=!0,this.prevPageBtn.node.active=!0,this.nextPageBtn.interactable=!0,this.prevPageBtn.interactable=!1)),a.length>0)for(u=0;u<this.anims.length;u++)this.anims[u].setEntryAnimation(a[u]);if(o.length>0)for(c=0;c<this.anims.length;c++)this.anims[c].setExitAnimation(o[c]);for(this.buttonContainer.removeAllChildren(),l=r(i);!(h=l()).done;)p=h.value,this.addButton(p);this.anims.forEach((function(t){t.animateEntry()})),this.isShown=!0;case 13:case"end":return t.stop()}}),t,this)})));return function(e,n,i,a,r){return t.apply(this,arguments)}}(),u.setPopupScale=function(t){this.node.scale=t},u.close=function(){var t=this;this.anims.forEach((function(e){e.animateExit((function(){t.node.active=!1}))})),this.isShown=!1},u.getGenericAnimation=function(t){var e=t.getComponent(v);e&&this.anims.push(e);for(var n,i=r(t.children);!(n=i()).done;){var a=n.value;this.getGenericAnimation(a)}},u.shown=function(){return this.isShown},u.nextPage=function(){this.currentPageIndex++,this.messageText.string=this.popupPages[this.currentPageIndex],this.prevPageBtn.interactable=!1,this.nextPageBtn.interactable=!1,this.currentPageIndex+1<this.popupPages.length&&(this.nextPageBtn.interactable=!0),this.currentPageIndex>0&&(this.prevPageBtn.interactable=!0),m.instance.gameEvents.emit(b.PLAY_SFX,x.ButtonClick)},u.prevPage=function(){this.currentPageIndex--,this.messageText.string=this.popupPages[this.currentPageIndex],this.prevPageBtn.interactable=!1,this.nextPageBtn.interactable=!1,this.currentPageIndex>0&&(this.prevPageBtn.interactable=!0),this.popupPages.length>1&&this.currentPageIndex<this.popupPages.length&&(this.nextPageBtn.interactable=!0),m.instance.gameEvents.emit(b.PLAY_SFX,x.ButtonClick)},u.addButton=function(t,e){var n=this,i=t.buttonPrefabOverride||this.defaultButtonPrefab,a=f(i);null!==e?this.buttonContainer.insertChild(a,e):this.buttonContainer.addChild(a);var r=a.getComponentInChildren(l);return r&&(r.string=t.label),a.on(h.EventType.TOUCH_END,(function(){null==t.callback||t.callback(),m.instance.gameEvents.emit(b.PLAY_SFX,x.ButtonClick),n.anims.forEach((function(t){t.animateExit()}))})),a},e}(P)).prototype,"titleText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(G.prototype,"messageText",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(G.prototype,"buttonContainer",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(G.prototype,"defaultButtonPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(G.prototype,"nextPageBtn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(G.prototype,"prevPageBtn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=G))||T));u._RF.pop()}}}));

System.register("chunks:///_virtual/HandUIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GameEvent.ts","./Card.ts","./Player.ts","./Dealer.ts","./SFXEnums.ts","./GameResultEntry.ts"],(function(e){"use strict";var t,n,a,i,r,s,o,c,l,u,d,h,f,p,v,E,m,g,C,y,b,D,A,I,S,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.asyncToGenerator,s=e.regeneratorRuntime,o=e.extends},function(e){c=e.cclegacy,l=e._decorator,u=e.CCInteger,d=e.Prefab,h=e.Node,f=e.Label,p=e.Sprite,v=e.Component,E=e.instantiate,m=e.UIOpacity,g=e.Layout,C=e.tween},function(e){y=e.EventManager},function(e){b=e.GameEvent},function(e){D=e.Card},function(e){A=e.Player},function(e){I=e.Dealer},function(e){S=e.SFXID},function(e){P=e.GameResultEntry}],execute:function(){var H,w,_,L,T,R,N,G,U,x,M,F,k,z,X,Y,O,V,W,j,B,K,Q;c._RF.push({},"ff1b3hdS3xIUK48G1HDGUHn","HandUIManager",void 0);var q=l.ccclass,J=l.property;e("HandUIManager",(H=q("HandUIManager"),w=J(u),_=J({type:P}),L=J(d),T=J(h),R=J(h),N=J(f),G=J(h),U=J(p),x=J(f),M=J(h),H((z=t((k=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).isActive=!1,a(t,"playerID",z,i(t)),a(t,"resultEntries",X,i(t)),a(t,"cardPrefab",Y,i(t)),a(t,"deckPosition",O,i(t)),a(t,"playerCardContainers",V,i(t)),a(t,"playerScoreLabels",W,i(t)),a(t,"handIndicators",j,i(t)),a(t,"resultSprites",B,i(t)),a(t,"dealerScoreLabel",K,i(t)),a(t,"dealerCardContainer",Q,i(t)),t.playerHandCount=0,t.isAnimating=!1,t.pendingAnimations=[],t}n(t,e);var c=t.prototype;return c.start=function(){y.instance.gameEvents.on(b.PLAYER_TURN_CHANGED,this.onPlayerTurnChange,this),y.instance.gameEvents.on(b.GAME_STARTED,this.onGameStarted,this),y.instance.gameEvents.on(b.DEAL_CARD,this.addCardToParticipant,this),y.instance.gameEvents.on(b.SPLIT_HAND,this.animateSplitHand,this),y.instance.gameEvents.on(b.CHANGE_HAND,this.changeHand,this),y.instance.gameEvents.on(b.GAME_ENDED,this.displayResult,this),y.instance.gameEvents.on(b.GAME_RESET,this.resetUI,this),y.instance.gameEvents.on(b.DEALER_TURN_END,this.flipDealerCards,this),this.resetUI()},c.resetUI=function(){console.log("Resetting UI..."),this.playerScoreLabels.forEach((function(e){e.node.active=!1})),this.dealerScoreLabel.node.active=!1,this.playerCardContainers.forEach((function(e){e.removeAllChildren()})),this.dealerCardContainer.removeAllChildren(),this.handIndicators.forEach((function(e){e.active=!1})),this.resultSprites.forEach((function(e){e.node.active=!1})),this.playerCardContainers[1].parent.active=!1,this.playerHandCount=0},c.onDestroy=function(){y.instance.gameEvents.off(b.PLAYER_TURN_CHANGED,this.onPlayerTurnChange,this),y.instance.gameEvents.off(b.GAME_STARTED,this.onGameStarted,this),y.instance.gameEvents.off(b.DEAL_CARD,this.addCardToParticipant,this),y.instance.gameEvents.off(b.GAME_ENDED,this.displayResult,this),y.instance.gameEvents.off(b.GAME_RESET,this.resetUI,this),y.instance.gameEvents.off(b.CHANGE_HAND,this.changeHand,this),y.instance.gameEvents.off(b.DEALER_TURN_END,this.flipDealerCards,this)},c.setupPlayer=function(e){this.playerID=e},c.onPlayerTurnChange=function(e){this.playerID===e?(this.isActive=!0,console.log(this.node.name+" is active")):(this.isActive=!1,this.handIndicators.forEach((function(e){e.active=!1})))},c.onGameStarted=function(){this.playerHandCount++},c.addCardToParticipant=function(e){var t=this;if(this.isActive){var n=null;if(e instanceof A){var a=e.getIndex();n=this.playerCardContainers[a]}else e instanceof I&&(n=this.dealerCardContainer);for(var i=e.getHand(),r=n.children.length;r<i.length;r++)y.instance.gameEvents.emit(b.QUEUE_ANIMATION,(function(){return t.animateCardToHand(e,n)}),this)}},c.animateCardToHand=function(){var e=r(s().mark((function e(t,n){var a,i,c,l,u,d,h,f,p,v,P;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y.instance.gameEvents.emit(b.PLAY_SFX,S.CardDeal),a=t.getHand(),!((i=n.children.length)>=a.length)){e.next=5;break}return e.abrupt("return");case 5:return c=o({},a[i]),l=E(this.cardPrefab),(u=l.addComponent(D)).init(c),(d=l.addComponent(m)).opacity=0,h=E(this.cardPrefab),this.deckPosition.addChild(h),h.addComponent(D).init(c),t instanceof A?(c.isFaceDown=!1,p=t.getIndex(),f=this.playerScoreLabels[p]):t instanceof I&&(c.isFaceDown=0===i&&!t.revealAll,f=this.dealerScoreLabel),n.addChild(l),(v=n.getComponent(g))&&v.updateLayout(),P=l.worldPosition.clone(),h.setWorldPosition(this.deckPosition.getWorldPosition()),e.next=23,new Promise((function(e){C(h).to(.5,{worldPosition:P}).call(r(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.destroy(),d.opacity=255,c.isFaceDown){e.next=6;break}return e.next=5,u.flipCard();case 5:f.string="Hand Value: "+t.getHandValue();case 6:case"end":return e.stop()}}),e)})))).call(e).start()}));case 23:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),c.flipDealerCards=function(){var e=r(s().mark((function e(){var t,n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.dealerCardContainer.children,n=t[0],!(a=n.getComponent(D)).isFaceDown){e.next=6;break}return e.next=6,a.flipCard();case 6:y.instance.gameEvents.emit(b.ANIMATION_FINISHED);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.animateSplitHand=function(){var e=r(s().mark((function e(t){var n,a,i,r=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.instance.gameEvents.emit(b.PLAY_SFX,S.CardDeal),n=this.playerCardContainers[0],(a=this.playerCardContainers[1]).parent.active=!0,(i=n.children[1]).removeFromParent(),a.addChild(i),this.handIndicators[0].active=!0,this.playerHandCount++,t.forEach((function(e){r.addCardToParticipant(e)}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),c.changeHand=function(e){this.isActive&&1!=this.playerHandCount&&(this.handIndicators.forEach((function(e){e.active=!1})),this.handIndicators[e].active=!0)},c.displayResult=function(e){for(var t=this,n=function(n){t.playerScoreLabels[n].node.active=!0,t.handIndicators[n].active=!1;var a=t.resultEntries.find((function(t){return t.result===e[n]}));t.resultSprites[n].spriteFrame=a.spriteFrame,t.resultSprites[n].node.active=!0},a=0;a<e.length;a++)n(a);this.dealerScoreLabel.node.active=!0},t}(v)).prototype,"playerID",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(k.prototype,"resultEntries",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=t(k.prototype,"cardPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(k.prototype,"deckPosition",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(k.prototype,"playerCardContainers",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=t(k.prototype,"playerScoreLabels",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(k.prototype,"handIndicators",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(k.prototype,"resultSprites",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=t(k.prototype,"dealerScoreLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(k.prototype,"dealerCardContainer",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=k))||F));c._RF.pop()}}}));

System.register("chunks:///_virtual/LogManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GameEvent.ts","./GameResult.ts","./GameLogEntry.ts","./GenericPopup.ts","./PopupButtonData.ts","./PopupPage.ts","./AnimationType.ts"],(function(t){"use strict";var n,e,r,o,s,i,a,u,c,g,p,h,l,f,y,E;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy,a=t._decorator,u=t.Component},function(t){c=t.EventManager},function(t){g=t.GameEvent},function(t){p=t.GameResult},function(t){h=t.GameLogEntry},function(t){l=t.GenericPopup},function(t){f=t.PopupButtonData},function(t){y=t.PopupPage},function(t){E=t.AnimationType}],execute:function(){var L,m,v,d,P;i._RF.push({},"b8040qYSCdJLqxMOgczjSu0","LogManager",void 0);var D=a.ccclass,G=a.property;t("LogManager",(L=D("LogManager"),m=G(l),L((P=n((d=function(t){function n(){for(var n,e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];return(n=t.call.apply(t,[this].concat(s))||this).gameHistory=[],r(n,"historyPopup",P,o(n)),n.currentLogEntry=void 0,n}e(n,t);var i=n.prototype;return i.start=function(){c.instance.gameEvents.on(g.BET_PLACED,this.setBetLog,this),c.instance.gameEvents.on(g.GAME_ENDED,this.setGameResultLog,this)},i.setBetLog=function(t){this.currentLogEntry=new h,this.currentLogEntry.content="Bet: $"+-t,this.gameHistory.push(this.currentLogEntry)},i.setCardDealLog=function(){},i.setGameResultLog=function(t,n,e){var r=this;this.currentLogEntry=new h,this.currentLogEntry.content="Game Finished\n",this.currentLogEntry.content+="Dealer's Hand: "+e.handToString()+" ("+e.getHandValue()+")\n",this.currentLogEntry.content+="Player's Hand: ";var o=[];n.forEach((function(n){o.push(n.handToString()+" ("+n.getHandValue()+") : "+r.getResultStr(t[n.getIndex()]))})),o.length>1?this.currentLogEntry.content+="\n"+o.join("\n"):this.currentLogEntry.content+=o[0],this.gameHistory.push(this.currentLogEntry)},i.displayHistoryPopup=function(){var t=[];t.push(new f("Close"));var n=[];this.gameHistory.sort((function(t,n){return n.timestamp.getTime()-t.timestamp.getTime()})),this.gameHistory.forEach((function(t){n.push("["+t.getTimeStamp()+"]\t"+t.getContent())}));var e=[];n.forEach((function(t){e=e.concat(t.split("\n"))}));for(var r=this.paginateLogs(e),o=[],s=0;s<r.length;s++){var i="";i+=r[s].join("\n"),o.push(new y(s,i))}var a=[E.Fade,E.FlyTop],u=[E.Fade,E.FlyTop];this.historyPopup.show("History",o,t,a,u)},i.paginateLogs=function(t){for(var n,e=[],r=[],o=0,i=s(t);!(n=i()).done;){var a=n.value,u=a.split("\n").length;o+u>6&&(e.push(r),r=[],o=0),r.push(a),o+=u}return r.length>0&&e.push(r),e},i.getResultStr=function(t){switch(t){case p.Win:return"Won";case p.Lose:return"Lost";case p.WinBlackJack:return"Won with BlackJack";case p.Draw:return"Pushed"}return""},i.onDestroy=function(){c.instance.gameEvents.off(g.BET_PLACED,this.setBetLog,this),c.instance.gameEvents.off(g.GAME_ENDED,this.setGameResultLog,this)},n}(u)).prototype,"historyPopup",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=d))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./GenericAnimation.ts","./AsyncUtils.ts","./BGMEntry.ts","./BGMID.ts","./BGMManager.ts","./SFXEntry.ts","./SFXEnums.ts","./SFXManager.ts","./Card.ts","./CardAsset.ts","./CardData.ts","./ChipButton.ts","./ChipEntry.ts","./ObjectPool.ts","./PoolExhaustedBehavior.ts","./Poolable.ts","./SpecialQueue.ts","./Dealer.ts","./Deck.ts","./GameResultEntry.ts","./GameStateEntry.ts","./GameLogEntry.ts","./LogManager.ts","./BetManager.ts","./DeckManager.ts","./EventManager.ts","./GameManager.ts","./AnimationManager.ts","./BetUIManager.ts","./HandUIManager.ts","./MoneyUIManager.ts","./OpponentHandUIManager.ts","./PlayerHandUIManager.ts","./UIManager.ts","./NetworkManager.ts","./array_buff.ts","./Participant.ts","./Player.ts","./PlayerData.ts","./GenericPopup.ts","./PopupButtonData.ts","./PopupPage.ts","./AnimationType.ts","./GameEvent.ts","./GameResult.ts","./GameState.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MoneyUIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GameEvent.ts","./GenericAnimation.ts"],(function(n){"use strict";var e,t,i,o,a,r,l,u,s,c,m,f,g;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,l=n.Label,u=n.Node,s=n.Color,c=n.Component},function(n){m=n.EventManager},function(n){f=n.GameEvent},function(n){g=n.GenericAnimation}],execute:function(){var h,y,p,M,b,N,v,E,d,C,A;a._RF.push({},"56d68g7U7JM/rIr4sH9ybSd","MoneyUIManager",void 0);var L=r.ccclass,P=r.property;n("MoneyUIManager",(h=L("MoneyUIManager"),y=P(l),p=P(u),M=P(s),b=P(s),h((E=e((v=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=n.call.apply(n,[this].concat(a))||this,i(e,"playerMoney",E,o(e)),i(e,"floatingNumber",d,o(e)),e.floatingNumLabel=void 0,e.floatingNumAnim=void 0,i(e,"minusNumColor",C,o(e)),i(e,"plusNumColor",A,o(e)),e}t(e,n);var a=e.prototype;return a.start=function(){m.instance.gameEvents.on(f.PLAYER_MONEY_CHANGED,this.updatePlayerMoney,this),m.instance.gameEvents.on(f.BET_PLACED,this.onMoneyChanged,this),m.instance.gameEvents.on(f.PAYOUT,this.onMoneyChanged,this),this.floatingNumber.active=!1,this.floatingNumLabel=this.floatingNumber.getComponent(l),this.floatingNumAnim=this.floatingNumber.getComponent(g)},a.onDestroy=function(){m.instance.gameEvents.off(f.PLAYER_MONEY_CHANGED,this.updatePlayerMoney,this),m.instance.gameEvents.off(f.BET_PLACED,this.onMoneyChanged,this),m.instance.gameEvents.off(f.PAYOUT,this.onMoneyChanged,this)},a.updatePlayerMoney=function(n){console.log("Update Player Money: "+n),this.playerMoney.string=n.toFixed(2)},a.onMoneyChanged=function(n){var e=this;if(0!=n){var t="+";this.floatingNumLabel.color=this.plusNumColor,n<0&&(t="-",this.floatingNumLabel.color=this.minusNumColor),t=t+"$"+Math.abs(n).toString(),this.floatingNumLabel.string=t,this.floatingNumAnim.animateEntry((function(){setTimeout((function(){return e.floatingNumAnim.animateExit()}),500)}))}},e}(c)).prototype,"playerMoney",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(v.prototype,"floatingNumber",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(v.prototype,"minusNumColor",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(v.prototype,"plusNumColor",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=v))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/NetworkManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var e,n,t,s,i,r,c;return{setters:[function(o){e=o.applyDecoratedDescriptor,n=o.inheritsLoose,t=o.initializerDefineProperty,s=o.assertThisInitialized},function(o){i=o.cclegacy,r=o._decorator,c=o.Component}],execute:function(){var a,l,h;o("WSState",void 0),i._RF.push({},"1a7f9HUCbVN4J12GfU387in","NetworkManager",void 0);var u,_=r.ccclass,N=r.property,f=o("Code",(function(){}));f.LOGIN=1,f.JOIN_ROOM=3,f.ROOM_PLUGIN=5,f.ZONE_PLUGIN=6,function(o){o[o.DISCONNECTED=0]="DISCONNECTED",o[o.CONNECTING=1]="CONNECTING",o[o.CONNECTED=2]="CONNECTED"}(u||(u=o("WSState",{})));o("NetworkManager",_("NetworkManager")((h=e((l=function(o){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=o.call.apply(o,[this].concat(i))||this,t(e,"serverURL",h,s(e)),e._socket=null,e._state=u.DISCONNECTED,e._listeners=new Map,e._zone="Slot1Zone",e._plugin="BNRPlugin",e._username="gamer01",e._password="gamer01",e._roomId=0,e._roomPassword="",e}n(e,o);var i=e.prototype;return i.onLoad=function(){this.connect(),this.initialize()},i.connect=function(){var o=this;console.log("Connect"),this._socket=new WebSocket(this.serverURL),this._socket.onopen=function(){console.log(" WS Connected"),o._state=u.CONNECTED,o.emit("open")},this._socket.onclose=function(){console.warn(" WS Closed"),o._state=u.DISCONNECTED,o.emit("close")},this._socket.onerror=function(e){console.error(" WS Error",e),o.emit("error",e)},this._socket.onmessage=function(e){o.handleMessage(e.data)}},i.handleMessage=function(o){var e;try{e=JSON.parse(o)}catch(o){return}switch(console.log(" Server:",e),e[0]){case f.LOGIN:this.emit("login",{success:e[1],errorCode:e[2],username:e[3],zone:e[4],balance:e[5]});break;case f.ROOM_PLUGIN:var n=e[1];"rooms"===(null==n?void 0:n.action)&&this.emit("rooms",n.rooms),"spin"===(null==n?void 0:n.action)&&this.emit("spin",n);break;case f.JOIN_ROOM:this.emit("joinRoom",{success:e[1],errorCode:e[2],roomId:e[3]})}},i.send=function(o){if(this._socket&&this._state===u.CONNECTED){var e=JSON.stringify(o);console.log(" Client:",o),this._socket.send(e)}},i.login=function(){this.send([f.LOGIN,this._zone,this._username,this._password,{action:"hello"}])},i.getRooms=function(){this.send([f.ZONE_PLUGIN,this._zone,this._plugin,{action:"rooms"}])},i.joinRoom=function(o,e){this._roomId=o,this._roomPassword=e,this.send([f.JOIN_ROOM,this._zone,o,e])},i.spin=function(o){this._roomId?this.send([f.ROOM_PLUGIN,this._zone,this._roomId,{action:"spin",bet:o}]):console.warn(" No room joined yet")},i.on=function(o,e){this._listeners.has(o)||this._listeners.set(o,[]),this._listeners.get(o).push(e)},i.emit=function(o,e){this._listeners.has(o)&&this._listeners.get(o).forEach((function(o){return o(e)}))},i.initialize=function(){var o=this;this.on("open",(function(){console.log(" Step 1: LOGIN"),o.login()})),this.on("login",(function(){console.log(" Step 2: GET ROOMS"),o.getRooms()})),this.on("rooms",(function(e){if(console.log(" Rooms:",e),e&&0!==e.length){var n=e[0];console.log(" Step 3: JOIN ROOM",n.id),o.joinRoom(n.id,n.password)}})),this.on("joinRoom",(function(o){o.success||console.warn(" Join failed")}))},e}(c)).prototype,"serverURL",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"ws://192.168.1.19:8892/websocket"}}),a=l))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectPool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PoolExhaustedBehavior.ts","./Poolable.ts","./SpecialQueue.ts"],(function(e){"use strict";var t,o,i,n,a,r,s,l,u,c,h,p,d,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Prefab,l=e.Enum,u=e.instantiate,c=e.Vec3,h=e.Component},function(e){p=e.PoolExhaustedBehavior},function(e){d=e.Poolable},function(e){b=e.SpecialQueue}],execute:function(){var v,f,P,m,w,y,N,x,g,j;a._RF.push({},"dcb0dg8K4xBbqzH5L9Py4kP","ObjectPool",void 0);var z=r.ccclass,C=r.property;e("ObjectPool",(v=z("ObjectPool"),f=C(s),P=C({type:l(p)}),m=C({visible:function(){return this.exhaustBehavior===p.ExpandWithLimit}}),v((N=t((y=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"objectToPool",N,n(t)),i(t,"amountToPool",x,n(t)),i(t,"exhaustBehavior",g,n(t)),i(t,"maxPoolSize",j,n(t)),t.availableNodes=[],t.spawnedNodes=new b,t}o(t,e);var a=t.prototype;return a.onLoad=function(){for(var e=0;e<this.amountToPool;e++){var t=u(this.objectToPool);(t.getComponent(d)||t.addComponent(d)).init(this),t.active=!1,t.setParent(this.node),this.availableNodes.push(t)}},a.pop=function(){if(this.availableNodes.length>0){var e=this.availableNodes.pop();return this.spawnedNodes.enqueue(e),e}switch(this.exhaustBehavior){case p.CreateNew:var t=u(this.objectToPool);return(t.getComponent(d)||t.addComponent(d)).init(this),t.active=!1,t.setParent(this.node),this.spawnedNodes.enqueue(t),t;case p.Recycle:if(this.spawnedNodes.count>0){var o=this.spawnedNodes.dequeue();return this.spawnedNodes.enqueue(o),o}break;case p.ExpandWithLimit:if(this.spawnedNodes.count<this.maxPoolSize){var i=u(this.objectToPool);return(i.getComponent(d)||i.addComponent(d)).init(this),i.active=!1,i.setParent(this.node),this.spawnedNodes.enqueue(i),i}break;case p.FailSilently:console.warn("Pool is empty")}return null},a.push=function(e){e.active=!1,e.setPosition(c.ZERO),-1===this.availableNodes.findIndex((function(t){return t===e}))&&this.availableNodes.push(e),this.spawnedNodes.remove(e)},t}(h)).prototype,"objectToPool",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(y.prototype,"amountToPool",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),g=t(y.prototype,"exhaustBehavior",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.CreateNew}}),j=t(y.prototype,"maxPoolSize",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),w=y))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/OpponentHandUIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GameEvent.ts","./Card.ts","./Player.ts","./Dealer.ts","./SFXEnums.ts"],(function(e){"use strict";var t,n,a,r,i,o,s,c,l,u,d,p,f,h,v,m,E,g,y,C,P,b,A,D,T,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.asyncToGenerator,o=e.regeneratorRuntime,s=e.createForOfIteratorHelperLoose,c=e.extends},function(e){l=e.cclegacy,u=e._decorator,d=e.Node,p=e.Sprite,f=e.Label,h=e.CCInteger,v=e.Prefab,m=e.Component,E=e.instantiate,g=e.UIOpacity,y=e.Layout,C=e.tween},function(e){P=e.EventManager},function(e){b=e.GameEvent},function(e){A=e.Card},function(e){D=e.Player},function(e){T=e.Dealer},function(e){w=e.SFXID}],execute:function(){var _,I,H,R,S,G,N,x,U,k,L,M,F,z,O,B,Y;l._RF.push({},"e1d2783YQpKi6GONwRi8+RP","OpponentHandUIManager",void 0);var X=u.ccclass,Q=u.property;e("OpponentHandUIManager",(_=X("OpponentHandUIManager"),I=Q(d),H=Q(p),R=Q(f),S=Q(h),G=Q(v),N=Q(d),x=Q(d),_((L=t((k=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).isActive=!1,a(t,"avatarBorder",L,r(t)),a(t,"avatarSprite",M,r(t)),a(t,"playerName",F,r(t)),a(t,"playerID",z,r(t)),a(t,"cardPrefab",O,r(t)),a(t,"deckPosition",B,r(t)),a(t,"playerCardContainers",Y,r(t)),t.playerHandCount=0,t.isAnimating=!1,t.pendingAnimations=[],t}n(t,e);var l=t.prototype;return l.start=function(){P.instance.gameEvents.on(b.PLAYER_TURN_CHANGED,this.onPlayerTurnChange,this),P.instance.gameEvents.on(b.PLAYER_TURN_ENDED,this.onPlayerTurnEnd,this),P.instance.gameEvents.on(b.GAME_STARTED,this.onGameStarted,this),P.instance.gameEvents.on(b.GAME_ENDED,this.onGameEnded,this),P.instance.gameEvents.on(b.DEAL_CARD,this.addCardToParticipant,this),P.instance.gameEvents.on(b.SPLIT_HAND,this.animateSplitHand,this),P.instance.gameEvents.on(b.GAME_RESET,this.resetUI,this),this.resetUI()},l.setupPlayer=function(e,t,n){this.playerID=e,this.avatarSprite.spriteFrame=t,this.playerName.string=n},l.onPlayerTurnChange=function(e){this.playerID===e?(this.isActive=!0,this.avatarBorder.active=!0,console.log(this.node.name+" is active")):(this.isActive=!1,this.avatarBorder.active=!1)},l.onPlayerTurnEnd=function(e){var t=this;this.isActive&&e.forEach((function(e){e.isBusted()&&t.flipPlayerCards(e.getIndex())}))},l.onGameEnded=function(){for(var e=0;e<this.playerCardContainers.length;e++)this.flipPlayerCards(e)},l.flipPlayerCards=function(){var e=i(o().mark((function e(t){var n,a,r,i,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.playerCardContainers[t],a=s(n.children);case 2:if((r=a()).done){e.next=10;break}if(i=r.value,!(c=i.getComponent(A))||!c.isFaceDown){e.next=8;break}return e.next=8,c.flipCard();case 8:e.next=2;break;case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),l.resetUI=function(){console.log("Resetting UI..."),this.playerCardContainers.forEach((function(e){e.removeAllChildren()})),this.playerCardContainers[1].parent.active=!1,this.avatarBorder.active=!1,this.playerHandCount=0},l.onDestroy=function(){P.instance.gameEvents.off(b.PLAYER_TURN_CHANGED,this.onPlayerTurnChange,this),P.instance.gameEvents.off(b.PLAYER_TURN_ENDED,this.onPlayerTurnEnd,this),P.instance.gameEvents.off(b.GAME_STARTED,this.onGameStarted,this),P.instance.gameEvents.off(b.GAME_ENDED,this.onGameEnded,this),P.instance.gameEvents.off(b.DEAL_CARD,this.addCardToParticipant,this),P.instance.gameEvents.off(b.GAME_RESET,this.resetUI,this)},l.onGameStarted=function(){this.isActive&&this.playerHandCount++},l.addCardToParticipant=function(e){var t=this;if(this.isActive){var n=null;if(e instanceof D){var a=e.getIndex();n=this.playerCardContainers[a]}else if(e instanceof T)return;for(var r=e.getHand(),i=n.children.length;i<r.length;i++)P.instance.gameEvents.emit(b.QUEUE_ANIMATION,(function(){return t.animateCardToHand(e,n)}),this)}},l.animateCardToHand=function(){var e=i(o().mark((function e(t,n){var a,r,s,l,u,d,p,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P.instance.gameEvents.emit(b.PLAY_SFX,w.CardDeal),a=t.getHand(),!((r=n.children.length)>=a.length)){e.next=5;break}return e.abrupt("return");case 5:return s=c({},a[r]),l=E(this.cardPrefab),(u=l.addComponent(A)).init(s),(d=l.addComponent(g)).opacity=0,p=E(this.cardPrefab),this.deckPosition.addChild(p),p.addComponent(A).init(s),t instanceof D&&(s.isFaceDown=!0),n.addChild(l),(f=n.getComponent(y))&&f.updateLayout(),h=l.worldPosition.clone(),p.setWorldPosition(this.deckPosition.getWorldPosition()),e.next=23,new Promise((function(e){C(p).to(.5,{worldPosition:h}).call(i(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.destroy(),d.opacity=255,s.isFaceDown){e.next=6;break}return e.next=5,u.flipCard();case 5:undefined.string="Hand Value: "+t.getHandValue();case 6:case"end":return e.stop()}}),e)})))).call(e).start()}));case 23:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),l.animateSplitHand=function(){var e=i(o().mark((function e(t){var n,a,r,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isActive){e.next=2;break}return e.abrupt("return");case 2:P.instance.gameEvents.emit(b.PLAY_SFX,w.CardDeal),n=this.playerCardContainers[0],(a=this.playerCardContainers[1]).parent.active=!0,(r=n.children[1]).removeFromParent(),a.addChild(r),this.playerHandCount++,t.forEach((function(e){i.addCardToParticipant(e)}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t}(m)).prototype,"avatarBorder",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(k.prototype,"avatarSprite",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(k.prototype,"playerName",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(k.prototype,"playerID",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(k.prototype,"cardPrefab",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(k.prototype,"deckPosition",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(k.prototype,"playerCardContainers",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=k))||U));l._RF.pop()}}}));

System.register("chunks:///_virtual/Participant.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e;return{setters:[function(t){n=t.createForOfIteratorHelperLoose},function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"9ca24YcEl5GJ5Pn06S+f3Im","Participant",void 0);t("Participant",function(){function t(){this.hand=[],this.revealAll=!1}var e=t.prototype;return e.getHand=function(){return this.hand},e.handToString=function(){var t=[];return this.hand.forEach((function(n){t.push(n.rank+n.suit)})),t.join(" ")},e.isBusted=function(){return this.getHandValue()>21},e.hasBlackjack=function(){return 21===this.getHandValue()&&2===this.hand.length},e.addCard=function(t){this.hand.push(t)},e.resetHand=function(){this.hand=[]},e.getHandValue=function(){for(var t,e=0,a=0,r=n(this.hand);!(t=r()).done;){var i=t.value;2===i.values.length&&a++,e+=i.values[0]}for(;a>0&&e+10<=21;)e+=10,a--;return e},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Participant.ts"],(function(n){"use strict";var t,i,e;return{setters:[function(n){t=n.inheritsLoose},function(n){i=n.cclegacy},function(n){e=n.Participant}],execute:function(){i._RF.push({},"25a22NSb3dOsbaCb3GsIrA5","Player",void 0);n("Player",function(n){function i(t,i){var e;return(e=n.call(this)||this).index=void 0,e.playerID=void 0,e.isDoubling=!1,e.index=t,e.playerID=i,e}t(i,n);var e=i.prototype;return e.getIndex=function(){return this.index},e.getPlayerID=function(){return this.playerID},e.doublingDown=function(){this.isDoubling=!0},e.isDoublingDown=function(){return this.isDoubling},e.canSplit=function(){return!0},e.splitHand=function(){return this.hand.splice(1,1)[0]},i}(e));i._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerData.ts",["cc","./EventManager.ts","./GameEvent.ts"],(function(t){"use strict";var n,e,s;return{setters:[function(t){n=t.cclegacy},function(t){e=t.EventManager},function(t){s=t.GameEvent}],execute:function(){n._RF.push({},"3dfb2VSB6RGSLPA7/wFBJzq","PlayerData",void 0);t("PlayerData",function(){function t(t,n){this.ID=void 0,this.money=void 0,this.ID=t,this.money=0,this.adjustMoney(n),e.instance.gameEvents.on(s.PAYOUT,this.adjustMoney,this),e.instance.gameEvents.on(s.BET_PLACED,this.adjustMoney,this)}var n=t.prototype;return n.getID=function(){return this.ID},n.getMoney=function(){return this.money},n.adjustMoney=function(t){this.money+=t,e.instance.gameEvents.emit(s.PLAYER_MONEY_CHANGED,this.getMoney())},n.dispose=function(){e.instance.gameEvents.off(s.PAYOUT,this.adjustMoney,this),e.instance.gameEvents.on(s.BET_PLACED,this.adjustMoney,this)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerHandUIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GameEvent.ts","./Card.ts","./Player.ts","./Dealer.ts","./SFXEnums.ts","./GameResultEntry.ts"],(function(e){"use strict";var n,t,i,a,r,s,o,c,l,u,d,h,p,f,m,g,v,E,y,C,b,A,D,S;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){o=e.cclegacy,c=e._decorator,l=e.Prefab,u=e.Node,d=e.Label,h=e.Sprite,p=e.Component,f=e.instantiate,m=e.UIOpacity,g=e.Layout,v=e.tween},function(e){E=e.EventManager},function(e){y=e.GameEvent},function(e){C=e.Card},function(e){b=e.Player},function(e){A=e.Dealer},function(e){D=e.SFXID},function(e){S=e.GameResultEntry}],execute:function(){var P,H,w,I,L,_,R,T,G,x,F,N,k,M,U,z,X,O,Y,V,W;o._RF.push({},"3654dfA6X9OMYH8cGLUO57E","PlayerHandUIManager",void 0);var j=c.ccclass,B=c.property;e("HandUIManager",(P=j("HandUIManager"),H=B({type:S}),w=B(l),I=B(u),L=B(u),_=B(d),R=B(u),T=B(h),G=B(d),x=B(u),P((k=n((N=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return(n=e.call.apply(e,[this].concat(r))||this).isActive=!1,n.playerID=null,i(n,"resultEntries",k,a(n)),i(n,"cardPrefab",M,a(n)),i(n,"deckPosition",U,a(n)),i(n,"playerCardContainers",z,a(n)),i(n,"playerScoreLabels",X,a(n)),i(n,"handIndicators",O,a(n)),i(n,"resultSprites",Y,a(n)),i(n,"dealerScoreLabel",V,a(n)),i(n,"dealerCardContainer",W,a(n)),n.playerHandCount=0,n.isAnimating=!1,n.pendingAnimations=[],n}t(n,e);var o=n.prototype;return o.start=function(){E.instance.gameEvents.on(y.GAME_STARTED,this.onGameStarted,this),E.instance.gameEvents.on(y.DEAL_CARD,this.addCardToParticipant,this),E.instance.gameEvents.on(y.SPLIT_HAND,this.animateSplitHand,this),E.instance.gameEvents.on(y.CHANGE_HAND,this.changeHand,this),E.instance.gameEvents.on(y.GAME_ENDED,this.displayResult,this),E.instance.gameEvents.on(y.GAME_RESET,this.resetUI,this),E.instance.gameEvents.on(y.DEALER_TURN_END,this.flipDealerCards,this),this.resetUI()},o.resetUI=function(){console.log("Resetting UI..."),this.playerScoreLabels.forEach((function(e){e.node.active=!1})),this.dealerScoreLabel.node.active=!1,this.playerCardContainers.forEach((function(e){e.removeAllChildren()})),this.dealerCardContainer.removeAllChildren(),this.handIndicators.forEach((function(e){e.active=!1})),this.resultSprites.forEach((function(e){e.node.active=!1})),this.playerCardContainers[1].parent.active=!1,this.playerHandCount=0},o.onDestroy=function(){E.instance.gameEvents.on(y.PLAYER_TURN_CHANGED,this.onPlayerTurnChange,this),E.instance.gameEvents.off(y.GAME_STARTED,this.onGameStarted,this),E.instance.gameEvents.off(y.DEAL_CARD,this.addCardToParticipant,this),E.instance.gameEvents.off(y.GAME_ENDED,this.displayResult,this),E.instance.gameEvents.off(y.GAME_RESET,this.resetUI,this),E.instance.gameEvents.off(y.CHANGE_HAND,this.changeHand,this),E.instance.gameEvents.off(y.DEALER_TURN_END,this.flipDealerCards,this)},o.onPlayerTurnChange=function(e){this.playerID===e&&(this.isActive=!0)},o.onGameStarted=function(){this.playerHandCount++},o.onAllAnimationFinished=function(){0===this.pendingAnimations.length&&E.instance.gameEvents.emit(y.ANIMATION_FINISHED)},o.playAnimation=function(){var e=r(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.isAnimating=!0;case 1:if(!(this.pendingAnimations.length>0)){e.next=7;break}return n=this.pendingAnimations.shift(),e.next=5,n();case 5:e.next=1;break;case 7:this.isAnimating=!1,this.schedule(this.onAllAnimationFinished,.2);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.addCardToParticipant=function(e){var n=this,t=null;if(e instanceof b){var i=e.getIndex();t=this.playerCardContainers[i]}else e instanceof A&&(t=this.dealerCardContainer);for(var a=e.getHand(),r=t.children.length;r<a.length;r++)this.pendingAnimations.push((function(){return n.animateCardToHand(e,t)})),this.unschedule(this.onAllAnimationFinished);this.isAnimating||this.playAnimation()},o.animateCardToHand=function(){var e=r(s().mark((function e(n,t){var i,a,o,c,l,u,d,h,p,S,P;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E.instance.gameEvents.emit(y.PLAY_SFX,D.CardDeal),i=n.getHand(),!((a=t.children.length)>=i.length)){e.next=5;break}return e.abrupt("return");case 5:return o=i[a],c=f(this.cardPrefab),(l=c.addComponent(C)).init(o),(u=c.addComponent(m)).opacity=0,d=f(this.cardPrefab),this.deckPosition.addChild(d),d.addComponent(C).init(o),n instanceof b?(o.isFaceDown=!1,p=n.getIndex(),h=this.playerScoreLabels[p]):n instanceof A&&(o.isFaceDown=0===a&&!n.revealAll,h=this.dealerScoreLabel),t.addChild(c),(S=t.getComponent(g))&&S.updateLayout(),P=c.worldPosition.clone(),d.setWorldPosition(this.deckPosition.getWorldPosition()),e.next=23,new Promise((function(e){v(d).to(.5,{worldPosition:P}).call(r(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.destroy(),u.opacity=255,o.isFaceDown){e.next=6;break}return e.next=5,l.flipCard();case 5:h.string="Hand Value: "+n.getHandValue();case 6:case"end":return e.stop()}}),e)})))).call(e).start()}));case 23:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),o.flipDealerCards=function(){var e=r(s().mark((function e(){var n,t,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.dealerCardContainer.children,t=n[0],!(i=t.getComponent(C)).isFaceDown){e.next=6;break}return e.next=6,i.flipCard();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.animateSplitHand=function(){var e=r(s().mark((function e(n){var t,i,a,r=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E.instance.gameEvents.emit(y.PLAY_SFX,D.CardDeal),t=this.playerCardContainers[0],(i=this.playerCardContainers[1]).parent.active=!0,(a=t.children[1]).removeFromParent(),i.addChild(a),this.handIndicators[0].active=!0,this.playerHandCount++,n.forEach((function(e){r.addCardToParticipant(e)}));case 10:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),o.changeHand=function(e){1!=this.playerHandCount&&(this.handIndicators.forEach((function(e){e.active=!1})),this.handIndicators[e].active=!0)},o.displayResult=function(e){for(var n=this,t=function(t){n.playerScoreLabels[t].node.active=!0,n.handIndicators[t].active=!1;var i=n.resultEntries.find((function(n){return n.result===e[t]}));n.resultSprites[t].spriteFrame=i.spriteFrame,n.resultSprites[t].node.active=!0},i=0;i<e.length;i++)t(i);this.dealerScoreLabel.node.active=!0},n}(p)).prototype,"resultEntries",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=n(N.prototype,"cardPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(N.prototype,"deckPosition",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(N.prototype,"playerCardContainers",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=n(N.prototype,"playerScoreLabels",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=n(N.prototype,"handIndicators",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=n(N.prototype,"resultSprites",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=n(N.prototype,"dealerScoreLabel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(N.prototype,"dealerCardContainer",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=N))||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/Poolable.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var t,e,n,l;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,n=o._decorator,l=o.Component}],execute:function(){var r;e._RF.push({},"68ed1lWa6NO95vvwJkFw7ii","Poolable",void 0);var i=n.ccclass;n.property,o("Poolable",i("Poolable")(r=function(o){function e(){for(var t,e=arguments.length,n=new Array(e),l=0;l<e;l++)n[l]=arguments[l];return(t=o.call.apply(o,[this].concat(n))||this).pool=null,t}t(e,o);var n=e.prototype;return n.init=function(o){this.pool=o},n.onDisable=function(){this.pool&&this.pool.push(this.node)},e}(l))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/PoolExhaustedBehavior.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var i;e("PoolExhaustedBehavior",void 0),t._RF.push({},"34d28CN/thEupEm2h8pXQBw","PoolExhaustedBehavior",void 0),function(e){e[e.CreateNew=0]="CreateNew",e[e.Recycle=1]="Recycle",e[e.ExpandWithLimit=2]="ExpandWithLimit",e[e.FailSilently=3]="FailSilently"}(i||(i=e("PoolExhaustedBehavior",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/PopupButtonData.ts",["cc"],(function(t){"use strict";var u;return{setters:[function(t){u=t.cclegacy}],execute:function(){u._RF.push({},"f721cFwx/5PIoSeXluJNJU2","PopupButtonData",void 0);t("PopupButtonData",(function(t,u,e){this.label=void 0,this.callback=void 0,this.buttonPrefabOverride=void 0,this.label=t,this.callback=u,this.buttonPrefabOverride=null!=e?e:null}));u._RF.pop()}}}));

System.register("chunks:///_virtual/PopupPage.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"999fe3MVuFIJIFkSPvjE/gs","PopupPage",void 0);e("PopupPage",(function(e,t){this.pageNumber=e,this.content=t}));t._RF.pop()}}}));

System.register("chunks:///_virtual/SFXEntry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SFXEnums.ts"],(function(t){"use strict";var i,e,r,n,o,u,c,l;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){r=t.cclegacy,n=t._decorator,o=t.Enum,u=t.AudioClip},function(t){c=t.SFXID,l=t.SFXGroup}],execute:function(){var p,a,s,y,f,b,g,F,h;r._RF.push({},"471af6pXA5Iwqgv8g5QsV4C","SFXEntry",void 0);var S=n.ccclass,X=n.property;t("SFXEntry",(p=S("SFXEntry"),a=X({type:o(c)}),s=X({type:u}),y=X({type:o(l)}),p((g=i((b=function(){e(this,"id",g,this),e(this,"clip",F,this),e(this,"group",h,this)}).prototype,"id",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.ButtonClick}}),F=i(b.prototype,"clip",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=i(b.prototype,"group",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l.UI}}),f=b))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/SFXEnums.ts",["cc"],(function(i){"use strict";var n;return{setters:[function(i){n=i.cclegacy}],execute:function(){var t,e;i({SFXGroup:void 0,SFXID:void 0}),n._RF.push({},"b0bb6ld4SlOibz8GEz/cpaU","SFXEnums",void 0),function(i){i[i.ButtonClick=0]="ButtonClick",i[i.CoinDrop=1]="CoinDrop",i[i.CardDeal=2]="CardDeal",i[i.CardFlip=3]="CardFlip",i[i.Chip=4]="Chip",i[i.Win=5]="Win",i[i.Lose=6]="Lose"}(t||(t=i("SFXID",{}))),function(i){i[i.UI=0]="UI",i[i.Gameplay=1]="Gameplay",i[i.Ambient=2]="Ambient"}(e||(e=i("SFXGroup",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/SFXManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SFXEnums.ts","./SFXEntry.ts","./EventManager.ts","./GameEvent.ts"],(function(e){"use strict";var t,o,n,r,i,s,u,a,p,l,c,f,h,g,m,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,u=e._decorator,a=e.Prefab,p=e.instantiate,l=e.AudioSource,c=e.Component},function(e){f=e.SFXGroup,h=e.SFXID},function(e){g=e.SFXEntry},function(e){m=e.EventManager},function(e){y=e.GameEvent}],execute:function(){var S,F,d,v,M,X,b;s._RF.push({},"0b72cq4oRhOArFtlZJsdFdL","SFXManager",void 0);var G=u.ccclass,E=u.property;e("SFXManager",(S=G("SFXManager"),F=E({type:a}),d=E({type:[g]}),S((X=t((M=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,n(t,"sfxAudioSourcePrefab",X,r(t)),n(t,"sfxEntries",b,r(t)),t.sfxMap=new Map,t.groupMap=new Map,t.groupVolumes=new Map,t}o(t,e);var s=t.prototype;return s.onLoad=function(){for(var e,t=i(this.sfxEntries);!(e=t()).done;){var o=e.value,n=p(this.sfxAudioSourcePrefab);n.setParent(this.node),n.active=!1;var r=n.getComponent(l);r.clip=o.clip,this.sfxMap.set(o.id,r),this.groupMap.has(o.group)||this.groupMap.set(o.group,[]),this.groupMap.get(o.group).push(r),this.groupVolumes.has(o.group)||this.groupVolumes.set(o.group,1)}},s.start=function(){m.instance.gameEvents.on(y.PLAY_SFX,this.playSFXByID,this)},s.onDestroy=function(){m.instance.gameEvents.off(y.PLAY_SFX,this.playSFXByID,this)},s.playSFXByID=function(e){var t,o=this.sfxMap.get(e),n=this.sfxEntries.find((function(t){return t.id===e}));if(o&&n){var r=null!=(t=this.groupVolumes.get(n.group))?t:1;o?o.playOneShot(o.clip,r):console.warn("[SFXManager] Clip not found: "+e)}},s.setGroupVolume=function(e,t){this.groupVolumes.set(e,t)},s.muteGroup=function(e){this.setGroupVolume(e,0)},s.SFXToggleChecked=function(e){e.isChecked?(console.log("Unmute SFX"),this.setGroupVolume(f.UI,1),this.setGroupVolume(f.Gameplay,1),this.setGroupVolume(f.Ambient,1)):(console.log("Mute SFX"),this.muteGroup(f.UI),this.muteGroup(f.Gameplay),this.muteGroup(f.Ambient)),this.playSFXByID(h.ButtonClick)},t}(c)).prototype,"sfxAudioSourcePrefab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(M.prototype,"sfxEntries",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=M))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/SpecialQueue.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"3cd82bjJohBWqDNxcUYgqmP","SpecialQueue",void 0);t("SpecialQueue",function(){function t(){this.list=[]}var n=t.prototype;return n.enqueue=function(t){this.list.push(t)},n.dequeue=function(){return this.list.shift()},n.peek=function(){return this.list[0]},n.remove=function(t){var e=this.list.indexOf(t);return e>=0&&(this.list.splice(e,1),!0)},n.contains=function(t){return this.list.some((function(e){return e===t}))},e(t,[{key:"count",get:function(){return this.list.length}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GameEvent.ts","./GameStateEntry.ts","./SFXEnums.ts","./GenericPopup.ts","./PopupButtonData.ts","./PopupPage.ts","./GenericAnimation.ts","./AnimationType.ts"],(function(t){"use strict";var n,e,i,a,s,o,r,u,l,p,c,h,g,f,m,d,b,v,E,B,S,y;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,s=t.createForOfIteratorHelperLoose,o=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){u=t.cclegacy,l=t._decorator,p=t.Sprite,c=t.Button,h=t.Label,g=t.Component},function(t){f=t.EventManager},function(t){m=t.GameEvent},function(t){d=t.GameStateEntry},function(t){b=t.SFXID},function(t){v=t.GenericPopup},function(t){E=t.PopupButtonData},function(t){B=t.PopupPage},function(t){S=t.GenericAnimation},function(t){y=t.AnimationType}],execute:function(){var A,T,I,P,C,_,F,w,G,R,D,N,U,L,M,k,z,H,O,X,W,K,x,Y,j;u._RF.push({},"161e1jld8hNabHvxkX6FU5C","UIManager",void 0);var q=l.ccclass,J=l.property;t("UIManager",(A=q("UIManager"),T=J(p),I=J({type:d}),P=J(c),C=J(c),_=J(c),F=J(c),w=J(c),G=J(c),R=J(v),D=J(v),N=J(h),A((M=n((L=function(t){function n(){for(var n,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return n=t.call.apply(t,[this].concat(s))||this,i(n,"stateSprite",M,a(n)),i(n,"gameStateEntries",k,a(n)),n.buttonWrapperAnim=null,i(n,"dealButton",z,a(n)),i(n,"hitButton",H,a(n)),i(n,"standButton",O,a(n)),i(n,"doubleButton",X,a(n)),i(n,"resetButton",W,a(n)),i(n,"splitButton",K,a(n)),i(n,"popup",x,a(n)),i(n,"smallPopup",Y,a(n)),i(n,"timerLabel",j,a(n)),n.playerHandCount=0,n}e(n,t);var u=n.prototype;return u.start=function(){f.instance.gameEvents.on(m.START_TIMER,this.onTimerStart,this),f.instance.gameEvents.on(m.ADD_CHIP_UI,this.onChipAdd,this),f.instance.gameEvents.on(m.GAME_STARTED,this.onGameStarted,this),f.instance.gameEvents.on(m.OFFER_INSURANCE,this.showInsurancePopup,this),f.instance.gameEvents.on(m.SPLIT_HAND,this.disableSplitButton,this),f.instance.gameEvents.on(m.GAME_ENDED,this.displayResult,this),f.instance.gameEvents.on(m.GAMESTATE_CHANGED,this.displayGameState,this),f.instance.gameEvents.on(m.GAME_RESET,this.resetUI,this),f.instance.gameEvents.on(m.LOCK_INPUT,this.lockInput,this),f.instance.gameEvents.on(m.UNLOCK_INPUT,this.unlockInput,this),this.attachPlaySFXToButton(this.hitButton.node.parent),this.resetUI()},u.resetUI=function(){if(console.log("Resetting UI..."),null==this.buttonWrapperAnim){var t=this.hitButton.node.parent.parent;this.buttonWrapperAnim=t.getComponent(S),this.buttonWrapperAnim.setTargetAsOriginalPos()}this.buttonWrapperAnim.animateExit(),this.dealButton.interactable=!1,this.dealButton.node.active=!0,this.hitButton.node.active=!1,this.standButton.node.active=!1,this.doubleButton.node.active=!1,this.stateSprite.node.active=!1,this.resetButton.node.active=!1,this.splitButton.node.active=!1,this.playerHandCount=0},u.onDestroy=function(){f.instance.gameEvents.on(m.START_TIMER,this.onTimerStart,this),f.instance.gameEvents.off(m.ADD_CHIP_UI,this.onChipAdd,this),f.instance.gameEvents.off(m.SPLIT_HAND,this.disableSplitButton,this),f.instance.gameEvents.off(m.GAME_STARTED,this.onGameStarted,this),f.instance.gameEvents.off(m.OFFER_INSURANCE,this.showInsurancePopup,this),f.instance.gameEvents.off(m.GAME_ENDED,this.displayResult,this),f.instance.gameEvents.off(m.GAME_RESET,this.resetUI,this),f.instance.gameEvents.off(m.GAMESTATE_CHANGED,this.displayGameState,this),f.instance.gameEvents.off(m.LOCK_INPUT,this.lockInput,this),f.instance.gameEvents.off(m.UNLOCK_INPUT,this.unlockInput,this)},u.onChipAdd=function(){this.dealButton.interactable=!0},u.onTimerStart=function(t){var n=this,e=t;this.unscheduleAllCallbacks(),this.schedule((function(){e--,n.timerLabel.string="Time left: "+e.toString(),e<=0&&n.unscheduleAllCallbacks()}),1)},u.onGameStarted=function(){var t=o(r().mark((function t(n){var e,i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null==this.buttonWrapperAnim&&(e=this.dealButton.node.parent.parent,this.buttonWrapperAnim=e.getComponent(S),this.buttonWrapperAnim.setTargetAsOriginalPos()),this.buttonWrapperAnim.animateEntry(),this.dealButton.node.active=!1,this.hitButton.node.active=!0,this.standButton.node.active=!0,this.doubleButton.node.active=!0,this.splitButton.node.active=!0,n.canSplit()?this.splitButton.interactable=!0:(this.splitButton.interactable=!1,i=this.splitButton.transition,this.splitButton.transition=c.Transition.COLOR,this.splitButton.transition=i),this.playerHandCount++;case 9:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),u.displayResult=function(){this.hitButton.node.active=!1,this.standButton.node.active=!1,this.resetButton.node.active=!0,this.doubleButton.node.active=!1,this.splitButton.node.active=!1},u.displayGameState=function(t){var n=this.gameStateEntries.find((function(n){return n.gameState===t}));n?(this.stateSprite.node.active=!0,this.stateSprite.spriteFrame=n.spriteFrame):this.stateSprite.node.active=!1},u.attachPlaySFXToButton=function(t){for(var n,e=t.getComponentsInChildren(c),i=s(e);!(n=i()).done;){n.value.node.on(c.EventType.CLICK,this.playButtonSFX,this)}},u.playButtonSFX=function(){f.instance.gameEvents.emit(m.PLAY_SFX,b.ButtonClick)},u.disableSplitButton=function(){this.splitButton.interactable=!1},u.showInsurancePopup=function(t){var n=[];n.push(new E("Yes",(function(){f.instance.gameEvents.emit(m.ACCEPT_INSURANCE),t&&t(!0)}))),n.push(new E("No",(function(){t&&t(!1)})));var e=[y.Fade,y.FlyTop],i=[y.Fade,y.FlyTop];this.smallPopup.show("Notice","Do you want to use Insurance?\n(Payout 2:1)",n,e,i)},u.lockInput=function(){this.dealButton.interactable=!1,this.hitButton.interactable=!1,this.standButton.interactable=!1,this.doubleButton.interactable=!1,this.resetButton.interactable=!1,this.splitButton.interactable=!1},u.unlockInput=function(){this.hitButton.interactable=!0,this.standButton.interactable=!0,this.doubleButton.interactable=!0,this.resetButton.interactable=!0},u.displayRule=function(){var t=[];t.push(new E("Close"));var n=[];n.push(new B(0,"Popup Page 1 Testing testing testing testing.  testinv v v.  testintestingvtesting")),n.push(new B(1,"Popup Page 2 testing testing testing testing testing testing")),n.push(new B(2,"Popup Page 3.  testintesting. testing testing testing.  testintesting testing testing testing \n testing v testing testing testing"));var e=[y.Fade,y.FlyTop],i=[y.Fade,y.FlyTop];this.popup.show("Rules",n,t,e,i)},u.toggleSFX=function(){f.instance.gameEvents.emit(m.PLAY_SFX,b.ButtonClick)},n}(g)).prototype,"stateSprite",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(L.prototype,"gameStateEntries",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=n(L.prototype,"dealButton",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(L.prototype,"hitButton",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(L.prototype,"standButton",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=n(L.prototype,"doubleButton",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(L.prototype,"resetButton",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=n(L.prototype,"splitButton",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(L.prototype,"popup",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=n(L.prototype,"smallPopup",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=n(L.prototype,"timerLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=L))||U));u._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});