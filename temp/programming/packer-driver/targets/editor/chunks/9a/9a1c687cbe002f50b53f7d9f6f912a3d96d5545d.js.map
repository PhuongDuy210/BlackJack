{"version":3,"sources":["file:///Users/phuongduy/CardDeck/assets/scripts/Card.ts"],"names":["_decorator","Component","Sprite","tween","Vec3","CardAsset","ccclass","property","Card","cardSprite","rankLabel","suitLabel","suit","rank","values","isFaceDown","onLoad","node","getComponent","init","cardData","spriteFrame","backSpriteFrame","name","getValues","getName","flipCard","cardScale","scale","clone","to","y","z","call","start"],"mappings":";;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,M,OAAAA,M;AAA4BC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;;AAG1DC,MAAAA,S,iBAAAA,S;;;;;;;;;OAFH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;sBAKjBQ,I,WADZF,OAAO,CAAC,MAAD,C,gBAAR,MACaE,IADb,SAC0BP,SAD1B,CACoC;AAAA;AAAA;AAAA,eAChCQ,UADgC,GACX,IADW;AAAA,eAGhCC,SAHgC,GAGb,IAHa;AAAA,eAKhCC,SALgC,GAKb,IALa;AAAA,eAQxBC,IARwB,GAQT,EARS;AAAA,eASxBC,IATwB,GAST,EATS;AAAA,eAUxBC,MAVwB,GAUL,EAVK;AAAA,eAYxBC,UAZwB,GAYX,IAZW;AAAA;;AActBC,QAAAA,MAAM,GAAS;AACrB,eAAKP,UAAL,GAAkB,KAAKQ,IAAL,CAAUC,YAAV,CAAuBhB,MAAvB,CAAlB;AACH;;AAEMiB,QAAAA,IAAI,CAACC,QAAD,EAAqB;AAC5B,eAAKR,IAAL,GAAYQ,QAAQ,CAACR,IAArB;AACA,eAAKC,IAAL,GAAYO,QAAQ,CAACP,IAArB;AACA,eAAKC,MAAL,GAAcM,QAAQ,CAACN,MAAvB;;AAEA,cAAIM,QAAQ,CAACL,UAAb,EAAyB;AACrB,iBAAKN,UAAL,CAAgBY,WAAhB,GAA8B;AAAA;AAAA,wCAAUC,eAAxC;AACH;;AACD,cAAI,CAACF,QAAQ,CAACL,UAAV,IAAwBK,QAAQ,CAACC,WAArC,EAAkD;AAC9C,iBAAKZ,UAAL,CAAgBY,WAAhB,GAA8BD,QAAQ,CAACC,WAAvC;AACH;;AAED,eAAKJ,IAAL,CAAUM,IAAV,GAAkB,GAAEH,QAAQ,CAACP,IAAK,OAAMO,QAAQ,CAACR,IAAK,EAAtD;AACH;;AAEMY,QAAAA,SAAS,GAAa;AACzB,iBAAO,KAAKV,MAAZ;AACH;;AAEMW,QAAAA,OAAO,GAAW;AACrB,iBAAQ,GAAE,KAAKZ,IAAK,OAAM,KAAKD,IAAK,EAApC;AACH;;AAEMc,QAAAA,QAAQ,CAACN,QAAD,EAAqB;AAChC;AACA,gBAAMO,SAAS,GAAG,KAAKV,IAAL,CAAUW,KAAV,CAAgBC,KAAhB,EAAlB;AACA1B,UAAAA,KAAK,CAAC,KAAKc,IAAN,CAAL,CACKa,EADL,CACQ,GADR,EACa;AAAEF,YAAAA,KAAK,EAAE,IAAIxB,IAAJ,CAAS,CAAT,EAAYuB,SAAS,CAACI,CAAtB,EAAyBJ,SAAS,CAACK,CAAnC;AAAT,WADb,EAC+D;AAD/D,WAEKC,IAFL,CAEU,MAAM;AACR;AACA,iBAAKxB,UAAL,CAAgBY,WAAhB,GAA8B;AAAA;AAAA,wCAAUC,eAAxC;AACH,WALL,EAMKQ,EANL,CAMQ,GANR,EAMa;AAAEF,YAAAA,KAAK,EAAED;AAAT,WANb,EAMkC;AANlC,WAOKO,KAPL;AAQC;;AApD2B,O","sourcesContent":["import { _decorator, Component, Sprite, Label, SpriteFrame, tween, Vec3 } from 'cc';\nconst { ccclass, property } = _decorator;\nimport { CardData } from './CardData';\nimport { CardAsset } from './CardAsset';\n\n@ccclass('Card')\nexport class Card extends Component {\n    cardSprite: Sprite = null;\n\n    rankLabel: Label = null;\n\n    suitLabel: Label = null;\n\n    // Optional: store card data for reference\n    private suit: string = '';\n    private rank: string = '';\n    private values: number[] = [];\n\n    private isFaceDown = true;\n\n    protected onLoad(): void {\n        this.cardSprite = this.node.getComponent(Sprite);\n    }\n\n    public init(cardData: CardData) {\n        this.suit = cardData.suit;\n        this.rank = cardData.rank;\n        this.values = cardData.values;\n\n        if (cardData.isFaceDown) {\n            this.cardSprite.spriteFrame = CardAsset.backSpriteFrame;\n        }\n        if (!cardData.isFaceDown && cardData.spriteFrame) {\n            this.cardSprite.spriteFrame = cardData.spriteFrame;\n        }\n\n        this.node.name = `${cardData.rank}_of_${cardData.suit}`;\n    }\n\n    public getValues(): number[] {\n        return this.values;\n    }\n\n    public getName(): string {\n        return `${this.rank} of ${this.suit}`;\n    }\n\n    public flipCard(cardData: CardData) {\n        // Flip from front to back\n        const cardScale = this.node.scale.clone();\n        tween(this.node)\n            .to(0.2, { scale: new Vec3(0, cardScale.y, cardScale.z) }) // Shrink to edge\n            .call(() => {\n                // Swap sprite/frame here\n                this.cardSprite.spriteFrame = CardAsset.backSpriteFrame;\n            })\n            .to(0.2, { scale: cardScale}) // Expand back out\n            .start();\n        }\n    }"]}